<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Ramblings of a Madman</title>
    <description>General Ramblings About all things JavaScript and Browser Developer Tools</description>
    <link>http://localhost:4000</link>
    <atom:link href="http://localhost:4000/rss/mozilla/" rel="self" type="application/rss+xml" />
    
      <item>
        <title>Running ESLint in Atom for Mozilla Development</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;Due to some recent changes in the way that we use eslint to check that our coding style linting Mozilla source code in Atom has been broken for a month or two.&lt;/p&gt;

&lt;p&gt;I have recently spent some time working on Atom’s linter-eslint plugin making it possible to bring all of that linting goodness back to life!&lt;/p&gt;

&lt;p&gt;From the root of the project type:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./mach eslint --setup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install the linter-eslint package v.8.00 or above. Then go to the package settings and enable the following options:&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/Eslint-atom-settings.png&quot; alt=&quot;Eslint Settings&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Figure 1: Eslint Settings in Atom&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Once done, you should see errors and warnings as shown in the screenshot below:&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/Eslint-atom.png&quot; alt=&quot;Eslint in Atom&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Figure 1: Eslint in Atom&lt;/figcaption&gt;
&lt;/figure&gt;
</description>
        <pubDate>Tue, 18 Oct 2016 17:00:00 +0100</pubDate>
        <link>http://localhost:4000/running-eslint-in-atom-for-mozilla-development/</link>
        <guid isPermaLink="true">http://localhost:4000/running-eslint-in-atom-for-mozilla-development/</guid>
      </item>
    
      <item>
        <title>Installing VPN from the Linux Command Line</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;To stop people snooping on what we are doing on the internet or when restrictive governments prevent people from accessing popular websites you can use a VPN to protect your privacy and allow you to access the internet without restrictions.&lt;/p&gt;

&lt;p&gt;Most VPN providers provide simple step-by-step instructions to get VPN set up on most operating systems but many fail to give instructions about how to autostart a VPN in a non graphical environment.&lt;/p&gt;

&lt;p&gt;The following will work with the files provided by most VPN providers with a couple of small changes:&lt;/p&gt;

&lt;p&gt;Of course, the url that your provider uses may be different:&lt;/p&gt;

&lt;figure&gt;
  &lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Get the Files from your Provider&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cd&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;/tmp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;wget&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;https://www.privateinternetaccess.com/openvpn/openvpn.zip&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;unzip&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;openvpn.zip&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# Copy Certificates to /etc/openvpn&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ca.crt&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;/etc/openvpn/&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;crl.pem&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;/etc/openvpn/&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# Enable Autologin&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nano&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;/etc/openvpn/login.conf&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# Edit file to contain your username and password on the first two lines:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;your-privateinternetaccess-username&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;your-privateinternetaccess-password&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ctrl&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;save.&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;chmod&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;/etc/openvpn/login.conf&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# Point OpenVPN Towards the Right Files. The .ovpn files may&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# not be by country so substitute them as appropriate.&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nano&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Country.ovpn&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# Edit the file to prefix the pem and crt paths with:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;/etc/openvpn/&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# Change the auth-user-pass line to read:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;auth-user-pass&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;/etc/openvpn/login.conf&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ctrl&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;save.&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Country.ovpn&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;/etc/openvpn/Country.conf&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# Autostart the VPN. &quot;Country&quot; is the name of your .conf file without&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# any extension so in my case Country.conf (see the previous steps).&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nano&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;/etc/default/openvpn&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# Edit the file so it contains:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;AUTOSTART&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Country&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# Check that Autostart is Working&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;reboot&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
  &lt;figcaption&gt;Installing VPN from the Linux command line&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;To check if the VPN is running open lynx and go to google.com. It should take you to the specific countries site.&lt;/p&gt;

&lt;p&gt;That is it, you are done!&lt;/p&gt;
</description>
        <pubDate>Wed, 02 Sep 2015 20:55:56 +0100</pubDate>
        <link>http://localhost:4000/installing-vpn-from-the-linux-command-line/</link>
        <guid isPermaLink="true">http://localhost:4000/installing-vpn-from-the-linux-command-line/</guid>
      </item>
    
      <item>
        <title>View jQuery and jQuery Live events in Firefox DevTools</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;A little while back we &lt;a href=&quot;/view-dom-events-in-firefox-developer-tools/&quot;&gt;landed a feature&lt;/a&gt; that made it possible to interact with events from the markup panel of Firefox developer tools.&lt;/p&gt;

&lt;p&gt;A lot of people were excited about this but we soon realized that jQuery wraps event handlers in a proxy making all handlers look like this:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;function() {
  return fn.apply( thisObject || this, arguments );
};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Numerous facepalms later and we now have support for jQuery and jQuery Live events. This support will be available in &lt;a href=&quot;http://nightly.mozilla.org/&quot;&gt;tonight’s nightly&lt;/a&gt;:&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/jquery-and-jquery-live-events.png&quot; alt=&quot;jQuery and jQuery Live events&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;jQuery and jQuery Live Events&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Because library support is important we have created an API that allows developers and library authors to create “event parsers” that allow our tools to make sense of their event systems.&lt;/p&gt;

&lt;p&gt;This API is priviledged code so to create an event parser you will need to create a simple Firefox extension.&lt;/p&gt;

&lt;p&gt;The API looks like this:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;const {EventParsers} = require(&quot;devtools/toolkit/event-parsers&quot;);

var parser = {
  id: &quot;myLibrary events&quot;, // Unique id
  hasListeners: function(node) {
    // Hunt for node's listeners and return true as soon as one is
    // encountered.
  },
  getListeners: function(node) {
    // Hunt for node's listeners and return an array of objects
    // representing those listeners. Each object should look like this:
    {
      type: &quot;click&quot;,
      handler: function clicked() {...},

      // These tags will be displayed as attributes in the events popup.
      tags: &quot;jQuery,Live&quot;,

      // Hide or show fields
      hide: {
        debugger: false, // Debugger icon
        type: false, // Event type e.g. click
        filename: false,
        capturing: false,
        dom0: false
      },

      override: {
      // The following can be overridden:
        type: &quot;click&quot;,
        origin: &quot;http://www.mozilla.com&quot;,
        searchString: 'onclick=&quot;doSomething()&quot;',
        DOM0: true,
        capturing: true
      }
    }
  }
},
normalizeHandler: function(fnDO) {
  // Take a handler debug object and use the debugger to walk the scope
  // chain to discover the function you would like to be displayed.

  // See https://hg.mozilla.org/integration/fx-team/diff/9add1ec0251d/toolkit/devtools/event-parsers.js#l1.98 for an example.
}

EventParsers.registerEventParser(parser);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We have bugs logged to add support for the following libraries:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=1044933&quot;&gt;Prototype&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=1044935&quot;&gt;YUI&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=1044936&quot;&gt;Mootools&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=1044939&quot;&gt;React&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=1044942&quot;&gt;Ember&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=1044944&quot;&gt;Angular&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You still here? What are you waiting for? &lt;a href=&quot;https://wiki.mozilla.org/DevTools/Hacking&quot;&gt;Go get hacking&lt;/a&gt;!&lt;/p&gt;
</description>
        <pubDate>Thu, 28 Aug 2014 12:40:46 +0100</pubDate>
        <link>http://localhost:4000/view-jquery-and-jquery-live-events-in-firefox-devtools/</link>
        <guid isPermaLink="true">http://localhost:4000/view-jquery-and-jquery-live-events-in-firefox-devtools/</guid>
      </item>
    
      <item>
        <title>View DOM Events in Firefox Developer Tools</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;I recently realized that support for inspection of DOM events is very poor in pretty much all developer tools. Having seen Opera Dragonflies implementation some time ago I liked the way you could very easily see the scope of an event.&lt;/p&gt;

&lt;p&gt;I have used a similar design to add DOM event inspection to Firefox Developer Tools. The event icons are visible in the markup view and if you click on them you can see information about the event including it’s handler. If you click the debugger icon at the top left of the popup it will take you to that handler in the debugger.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/visual-events-in-firefox-developer-tools.png&quot; alt=&quot;Visual Events in Firefox Developer Tools&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Visual Events in Firefox developer tools&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Whilst developing this feature I noticed that my workflow changed considerably. I found myself repeatedly looking at the event handlers attached to e.g. a button, clicking the debug icon, adding a breakpoint and clicking the button.&lt;/p&gt;

&lt;p&gt;We hope this feature will be useful to you. If you have any idea how we can improve this feature then please let us know via &lt;a href=&quot;http://ffdevtools.uservoice.com/forums/246087-firefox-developer-tools-ideas&quot;&gt;our feedback channel&lt;/a&gt; or &lt;a href=&quot;https://bugzilla.mozilla.org/enter_bug.cgi?component=Developer%20Tools%3A%20Inspector&amp;amp;product=Firefox&amp;amp;rep_platform=All&amp;amp;op_sys=All&quot;&gt;Bugzilla&lt;/a&gt;.&lt;/p&gt;
</description>
        <pubDate>Mon, 21 Jul 2014 10:51:00 +0100</pubDate>
        <link>http://localhost:4000/view-dom-events-in-firefox-developer-tools/</link>
        <guid isPermaLink="true">http://localhost:4000/view-dom-events-in-firefox-developer-tools/</guid>
      </item>
    
      <item>
        <title>Hack your Family: Adopt a child (UK version)</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;&lt;img src=&quot;/assets/images/adoption.jpg&quot; alt=&quot;Adoption&quot; /&gt;&lt;/p&gt;

&lt;p&gt;A lot of people would like to adopt but do not know what to do or what is involved. They are often scared of the process or have heard horror stories. Being at the end of the process and having met our kids we can say that you should be completely open and honest with your social worker… even things that many would expect to be negatives are very strong positives when viewing you from a social worker’s perspective.&lt;/p&gt;

&lt;p&gt;e.g. If you were once a drug addict then you may have insights into the birth parent’s life if they suffered from the same issue. You would also be more capable of helping the child if they fall foul to drugs in their teenage years. Being honest will help the local authority match the correct child or children with your family.&lt;/p&gt;

&lt;p&gt;The process is difficult, partly because you will need to jump through all of the hoops that the adoption people ask you to jump through. Also, say you are adopting three kids around two years old… that means that you will need to buy everything that a birth parent would have bought over the first couple of years of each child’s life. This is different from giving birth where you tend to buy things as you need them but as an adoptive parent you will need to hit the ground running.&lt;/p&gt;

&lt;p&gt;Here are some of our preparations (by the letter we didn’t “need” all of these things but we are adopting three):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Changed car to a model that supports three childseats across a single row (we need the boot / trunk for the buggy).&lt;/li&gt;
  &lt;li&gt;Childseats for car.&lt;/li&gt;
  &lt;li&gt;Changed downstairs carpet to laminate.&lt;/li&gt;
  &lt;li&gt;Put toddler swing, slide and roundabout in back garden.&lt;/li&gt;
  &lt;li&gt;Put childlocks on everything.&lt;/li&gt;
  &lt;li&gt;Put safety gates everywhere.&lt;/li&gt;
  &lt;li&gt;Redecorate two rooms as nurseries.&lt;/li&gt;
  &lt;li&gt;Buy cot beds.&lt;/li&gt;
  &lt;li&gt;Buy high chairs.&lt;/li&gt;
  &lt;li&gt;Buy new fridge freezer.&lt;/li&gt;
  &lt;li&gt;Buy baby monitor capable of monitoring two rooms.&lt;/li&gt;
  &lt;li&gt;At least a million other things.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Here is an outline of the process in the UK although it can vary slightly from county to county. The process is now supposed to be completed within six months due to the government making changes so if you really want kids you could have them within six months.&lt;/p&gt;

&lt;h2 id=&quot;initial-enquiry&quot;&gt;Initial Enquiry&lt;/h2&gt;

&lt;p&gt;You as a prospective adopter call your county council’s adoption team who talk to you about your motives and the adoption process itself. A social worker will visit you in an attempt to find any issues that would prevent adoption. Try not to take this visit too personally as they need to ensure that you really are serious about adopting.&lt;/p&gt;

&lt;h2 id=&quot;registration--checks&quot;&gt;Registration &amp;amp; Checks&lt;/h2&gt;

&lt;p&gt;The adoption department will send an official application form that you will need to fill out.&lt;/p&gt;

&lt;p&gt;Another social worker will visit you lots of times asking probing questions. Do not underestimate how many visits there will be as the social worker will need to prepare a report about you that is so thick they often call it “The Book.” Some of the things they will ask about:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Name&lt;/li&gt;
  &lt;li&gt;Date of birth&lt;/li&gt;
  &lt;li&gt;People living in the home&lt;/li&gt;
  &lt;li&gt;Income&lt;/li&gt;
  &lt;li&gt;Occupation&lt;/li&gt;
  &lt;li&gt;Health&lt;/li&gt;
  &lt;li&gt;Why do you want to adopt?&lt;/li&gt;
  &lt;li&gt;Chronology (everywhere they have ever lived and worked including dates).&lt;/li&gt;
  &lt;li&gt;Preferably every boss you have ever had will need to send a written reference about you to your social worker.&lt;/li&gt;
  &lt;li&gt;Details of three referees who will need to complete a written reference. Two of these referees will need to be interviewed by your social worker.&lt;/li&gt;
  &lt;li&gt;The type of child you want to adopt e.g. would you accept a child with schizophrenia, AIDS, ADHD etc.&lt;/li&gt;
  &lt;li&gt;Medical background check.&lt;/li&gt;
  &lt;li&gt;Criminal background check for every country you have lived in.&lt;/li&gt;
  &lt;li&gt;Local authority checks for everywhere that you have lived.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;preparation-groups&quot;&gt;Preparation groups&lt;/h2&gt;

&lt;p&gt;There are many classes designed to train you for special situations that may arise with adopted children. Some examples are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Adoption Triangle: Learn about the child’s place in the adoption triangle (birth parents, adoptive parents and child).&lt;/li&gt;
  &lt;li&gt;Can’t do, Won’t do – Attachment Difficulties for Children who have Experienced Early Trauma, Neglect and Abuse.&lt;/li&gt;
  &lt;li&gt;Life Story Book (a kind of life journal that the child can use to find out about life before they were adopted and which will be updated regularly).&lt;/li&gt;
  &lt;li&gt;‘Letterbox’ – Information Sharing between Adoptive Families and Birth Families.&lt;/li&gt;
  &lt;li&gt;Emergency first aid and basic life support.&lt;/li&gt;
  &lt;li&gt;Managing Behaviour for Under 10s.&lt;/li&gt;
  &lt;li&gt;Separation and Loss.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This is a small sample of available classes… there are many available. Some of these classes are core classes and must be attended. The rest are voluntary although some may be very suited to your adoptive child so you would be expected to attend them.&lt;/p&gt;

&lt;h2 id=&quot;pre-assessment-decision&quot;&gt;Pre-Assessment Decision&lt;/h2&gt;

&lt;p&gt;The social worker will meet with you. They will discuss the information gathered and confirm that you wish to proceed.&lt;/p&gt;

&lt;h2 id=&quot;adoption-panel&quot;&gt;Adoption Panel&lt;/h2&gt;

&lt;p&gt;Prospective adopters are sent the report that has been put together about them so far in the process. They are free to clarify any issues about the report with the social worker. This report is very detailed (about 60 - 70 A4 pages).&lt;/p&gt;

&lt;p&gt;Prospective adopters attend a panel (similar to a small court) where a group of experts ask questions to ensure that nothing has been missed in the process. This panel can give the adoption team advice on which children could be placed with the prospective adopters.&lt;/p&gt;

&lt;p&gt;After the panel the prospective adopters are told whether the panel accept their request to adopt (this is just an informal approval as the agency decision maker has the last say).&lt;/p&gt;

&lt;p&gt;Within two weeks the agency decision maker will review the panels decision and will send out a letter either approving or rejecting the prospective adopter’s adoption application.&lt;/p&gt;

&lt;h2 id=&quot;being-matched-with-a-child&quot;&gt;Being matched with a child&lt;/h2&gt;

&lt;p&gt;It is not usually as simple as a prospective adopter saying that they would like a particular child. Throughout the process the social workers will be discussing your case and looking out for children that would be a good match with your family.&lt;/p&gt;

&lt;p&gt;If no match is made at this point then prospective adopters first need to find out about available children and make a decision from there. There are a number of platforms available:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Parents for children evenings: On these evenings prospective adopters are shown videos of children that are up for adoption. They are also shown booklets containing basic information about the children available including medical and behavioral difficulties etc.&lt;/li&gt;
  &lt;li&gt;Activity days: Prospective adopters are given the opportunity to see a selection of available children. Many people do not like these activities, comparing them to cattle markets, but they are a great way to see the children in real life and get to know their personalities.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Once you have found the child or children of your dreams you will be provided with a Child Permanency Report (&lt;abbr title=&quot;Child Permanency Report&quot;&gt;CPR&lt;/abbr&gt;) which gives details about the child’s history and the events leading to them becoming available for adoption.This report may include information about medical issues, psychological issues and learning difficulties that the child may have.&lt;/p&gt;

&lt;p&gt;If no match has been made within three months prospective adopters can also be referred you to the National Register which maintains a list of approved adopters and children waiting for adoption placements to enable matches to be made nationally.&lt;/p&gt;

&lt;h2 id=&quot;matching-panel&quot;&gt;Matching Panel&lt;/h2&gt;

&lt;p&gt;A panel of experts will review your report and reports written about the children and discuss any concerns with you. This panel is like a small court.&lt;/p&gt;

&lt;h2 id=&quot;adoption-placement-planning-meetings&quot;&gt;Adoption placement planning meetings&lt;/h2&gt;

&lt;p&gt;Once matched with children a plan needs to be drawn up in order to make a gradual transition from the foster home to the home of the prospective adopters. This transition usually lasts between one and two weeks.&lt;/p&gt;

&lt;h2 id=&quot;introductions&quot;&gt;Introductions&lt;/h2&gt;

&lt;p&gt;This is where the plan from the previous section is put in place and you will spend time gradually getting to know the children and their routines at the foster parent’s home. This may require a lot of travel and takes a good couple of weeks.&lt;/p&gt;

&lt;p&gt;A good foster parent will gradually give you control of the children’s routines. In time the foster parents wil bring the children to visit you in your home where you will carry on with those routines. Eventually, they will go home and leave the children with you.&lt;/p&gt;

&lt;p&gt;This is a very emotionally exhausting time so both you and your partner will need to take some time off work.&lt;/p&gt;

&lt;h2 id=&quot;placement-for-adoption--adoption-order&quot;&gt;Placement for adoption &amp;amp; adoption order&lt;/h2&gt;

&lt;p&gt;The child remains a ‘Looked After’ child until an Adoption Order is made. So until then the Local Authority shares Parental Responsibility with you, and will continue to hold reviews to discuss with you and the social workers how things are going and what support you and / or the children may need.&lt;/p&gt;

&lt;p&gt;After the child has lived with the prospective adopters for ten weeks, the law allows them to apply to the court for an Adoption Order.&lt;/p&gt;

&lt;p&gt;After the court makes the Adoption Order they will plan a “Celebration Hearing” where they meet the children and their new parents.&lt;/p&gt;

&lt;h2 id=&quot;post-adoption--support&quot;&gt;Post Adoption &amp;amp; Support&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Adoption support groups.&lt;/li&gt;
  &lt;li&gt;Training events and workshops.&lt;/li&gt;
  &lt;li&gt;Support and advice on contact with birth family including providing a “letterbox service” where indirect contact has been agreed with you regarding birth relatives.&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 06 May 2014 10:47:00 +0100</pubDate>
        <link>http://localhost:4000/hack-your-family-adopt-a-child/</link>
        <guid isPermaLink="true">http://localhost:4000/hack-your-family-adopt-a-child/</guid>
      </item>
    
      <item>
        <title>Firefox Developer Tools Highlighter</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;When it comes to the Firefox Developer Tools Inspector one of our most common requests is that our highlighter should support box model highlighting. We are working on implementing this but before we get into full swing we need to know exactly what you want it to look like and how you would like it to act.&lt;/p&gt;

&lt;p&gt;Please take a look at how current tools behave and let us know what you would like our box model highlighting to look and behave.&lt;/p&gt;

&lt;p&gt;The examples on this page show the different methods of inspecting this div in Firefox Developer Tools, Firebug, Chrome DevTools and Opera Dragonfly:&lt;/p&gt;

&lt;div style=&quot;width: -moz-fit-content; margin: 0px auto;&quot;&gt;
  &lt;div style=&quot;width:220px; padding:10px; border: 10px dashed green; margin:10px; font: 14px/13px sans-serif;&quot;&gt;
    This is a div with:
* padding: 10px;
* border: 10px dashed green;
* margin: 10px;
  &lt;/div&gt;
&lt;/div&gt;

&lt;h2 id=&quot;inspection-by-mousing-over-content&quot;&gt;Inspection by mousing over content&lt;/h2&gt;

&lt;p&gt;This is the mode that most people are familiar with. You click the inspect button and move the mouse over the content area to highlight a node.&lt;/p&gt;

&lt;p&gt;Firefox Developer Tools use a subtle outline around the border of the hovered element. In addition, a node infobar appears. This infobar allows you to set pseudoclasses such as :hover, delete the node, copy HTML etc. This is currently the only highlight mode used by the tools:&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/mouse-inspection-firefox.png&quot; alt=&quot;Mouse Inspection (Firefox)&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Mouse inspection Firefox&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Firebug uses a blue outline:&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/mouse-inspection-firebug.png&quot; alt=&quot;Mouse Inspection (Firebug)&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Mouse inspection Firebug&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Chrome DevTools highlights content, padding, border and margin areas even when inspecting via the mouse. They also display simple node information e.g. node name, width and height:&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/mouse-inspection-chrome.png&quot; alt=&quot;Mouse Inspection (Chrome)&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Mouse inspection Chrome&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Opera Dragonfly also highlights content, padding, border and margin areas even when inspecting via the mouse. In addition it shows guides outlining the border of the element:&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/mouse-inspection-opera.png&quot; alt=&quot;Mouse Inspection (Opera)&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Mouse Inspection Opera&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&quot;inspection-by-mousing-over-the-layout-box-model-panel&quot;&gt;Inspection by mousing over the layout (box model) panel&lt;/h2&gt;

&lt;p&gt;Firebug brings out the big guns here and highlights all of the different layout components. It also outlines the node’s active container in a dashed red line and adds rulers to it (useful for absolutely positioned elements). In case this is not enough it adds guides around the section being hovered (content, border etc.):&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/box-model-content-hover-firebug.png&quot; alt=&quot;Box model content hover (Firebug)&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Box model content hover Firebug&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Chrome DevTools highlights only the content, padding, border or margin depending on which is being hovered:&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/box-model-content-hover-chrome.png&quot; alt=&quot;Box model content hover (Chrome)&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Box model content hover Chrome&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&quot;inspection-by-mousing-over-the-nodes-in-the-markup-html-panel&quot;&gt;Inspection by mousing over the nodes in the Markup (HTML) panel&lt;/h2&gt;

&lt;p&gt;Firebug shows the box model (content, padding, border and margin):&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/html-panel-node-hover-firebug.png&quot; alt=&quot;HTML Panel node hover (Firebug)&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;HTML Panel node hover Firebug&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Chrome DevTools and Opera Dragonfly act exactly the same as when mousing over content.&lt;/p&gt;

&lt;p&gt;So the question is what would you like the Firefox Developer Tools highlighter to look like and how should it act in each of the situations above. It doesn’t need to act like any other highlighter so be creative!&lt;/p&gt;
</description>
        <pubDate>Thu, 17 Oct 2013 10:42:00 +0100</pubDate>
        <link>http://localhost:4000/firefox-developer-tools-highlighter/</link>
        <guid isPermaLink="true">http://localhost:4000/firefox-developer-tools-highlighter/</guid>
      </item>
    
      <item>
        <title>Debugging Thunderbird using Firefox Developer Tools</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;I recently discovered that it is possible to use &lt;a href=&quot;https://developer.mozilla.org/docs/Tools&quot;&gt;Firefox Developer Tools&lt;/a&gt; with &lt;a href=&quot;http://www.mozilla.org/thunderbird/&quot;&gt;Thunderbird&lt;/a&gt;. &lt;a href=&quot;https://twitter.com/pkewisch&quot;&gt;Philipp Kewisch&lt;/a&gt; has done a fantastic job of his Google Summer of Code 2013 Project to bring Firefox Developer Tools to Thunderbird.&lt;/p&gt;

&lt;p&gt;Starting with Thunderbird 24.0a1 and a matching version of &lt;a href=&quot;https://www.mozilla.org/firefox/fx/#desktop&quot;&gt;Firefox&lt;/a&gt;, it is possible to debug Thunderbird code using Firefox Developer Tools. If your version of Thunderbird is 14.x then please go to &lt;kbd&gt;Help&lt;/kbd&gt; → &lt;kbd&gt;About Thunderbird&lt;/kbd&gt; and allow it to update.&lt;/p&gt;

&lt;p&gt;For best results you should use the latest nightly versions of both Thunderbird and Firefox. At the very least the version numbers should match. Here is how to get things up and running using the latest nightlies:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Download the latest &lt;a href=&quot;http://ftp.mozilla.org/pub/mozilla.org/thunderbird/nightly/latest-comm-central/&quot;&gt;Thunderbird Nightly&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Start Thunderbird.&lt;/li&gt;
  &lt;li&gt;Select &lt;kbd&gt;Tools&lt;/kbd&gt; → &lt;kbd&gt;Allow Remote Debugging&lt;/kbd&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/thunderbird-allow-remote-debugging.png&quot; alt=&quot;Thunderbird - Allow remote debugging&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Thunderbird allow remote debugging&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;Download the same version of &lt;a href=&quot;http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/&quot;&gt;Firefox Nightly&lt;/a&gt; as you did Thunderbird.&lt;/li&gt;
  &lt;li&gt;Start Firefox.&lt;/li&gt;
  &lt;li&gt;Press &lt;kbd&gt;Ctrl&lt;/kbd&gt; → &lt;kbd&gt;Shift&lt;/kbd&gt; → &lt;kbd&gt;K&lt;/kbd&gt; to open the toolbox.&lt;/li&gt;
  &lt;li&gt;Click &lt;kbd&gt;&amp;#9881;&lt;/kbd&gt; to open the developer tools options panel.&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Check &lt;kbd&gt;Enable Chrome Debugging&lt;/kbd&gt; and &lt;kbd&gt;Enable Remote Debugging&lt;/kbd&gt; then click &lt;kbd&gt;Restart Now&lt;/kbd&gt; if it appears.&lt;/p&gt;

    &lt;figure&gt;
      &lt;p&gt;&lt;img src=&quot;/assets/images/enable-chrome-debugging-and-enable-remote-debugging-options.png&quot; alt=&quot;Enable Chrome Debugging and Enable Remote Debugging options&quot; /&gt;&lt;/p&gt;
      &lt;figcaption&gt;Enable chrome debugging and enable remote debugging options&lt;/figcaption&gt;
    &lt;/figure&gt;
  &lt;/li&gt;
  &lt;li&gt;Select &lt;kbd&gt;Web Developer&lt;/kbd&gt; → &lt;kbd&gt;Connect…&lt;/kbd&gt;&lt;/li&gt;
  &lt;li&gt;Choose localhost port 6000 and click “Connect.”&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You will be presented with a set of available remote tabs and processes. For me they appeared as follows:&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/available-remote-tabs-and-processes.png&quot; alt=&quot;Available remote tabs and processes&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Available remote tabs and processes&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;“Your Kobo Order Receipt” - the area in which the selected email is displayed. In this view the following did / did not work:
    &lt;ul&gt;
      &lt;li&gt;The console tab may work but was empty when I tested.&lt;/li&gt;
      &lt;li&gt;The inspector, debugger, style editor and profiler work just fine.&lt;/li&gt;
      &lt;li&gt;The  network tab was empty.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;“Message Summary” is the area in which email summaries are displayed when multiple messages are selected.
    &lt;ul&gt;
      &lt;li&gt;The console tab may work but was empty when I tested.&lt;/li&gt;
      &lt;li&gt;The inspector, debugger, style editor and profiler work just fine.&lt;/li&gt;
      &lt;li&gt;The network tab was empty.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;“Main Process” - the main Thunderbird process. In this view the following did / did not work:
    &lt;ul&gt;
      &lt;li&gt;The console, debugger and profiler work fine.&lt;/li&gt;
      &lt;li&gt;The inspector and style editor and network tabs were empty.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Although not all of the tools work perfectly in all contexts at least you can now use the DevTools for extension development and to fix bugs.&lt;/p&gt;

&lt;p&gt;Philipp has the same code packaged as an extension that could be used to enable the debug server from other XUL apps &lt;a href=&quot;https://addons.mozilla.org/en-US/thunderbird/addon/remote-developer-tools-server/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Something has been needed since Venkman development halted so now we have something there is no excuse, whether it is Thunderbird itself or an extension… go, get hacking!&lt;/p&gt;
</description>
        <pubDate>Tue, 08 Oct 2013 10:33:00 +0100</pubDate>
        <link>http://localhost:4000/debugging-thunderbird-using-firefox-developer-tools/</link>
        <guid isPermaLink="true">http://localhost:4000/debugging-thunderbird-using-firefox-developer-tools/</guid>
      </item>
    
      <item>
        <title>The History of Firebug</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;When Joe Hewitt was seven years old his father wanted to become a computer programmer so he bought an IBM PCjr. Joe would often watch his father typing in programs from PC Magazine. He started learning himself and when he got older he just sort of took off on his own.&lt;/p&gt;

&lt;p&gt;The first programming project that he remembers working on was when he was in fifth grade (ten – eleven years old). He made an animated ASCII art of a rocket ship blasting off. He also wrote a game show in “Cartridge Basic” (an enhanced version of BASIC for the IBM PCjr).&lt;/p&gt;

&lt;p&gt;As far as education goes, he started as a computer science major before deciding that he didn’t like the formal computer science stuff and switched to graphic design. He then realized that he was not an artist and moved back to computer science. Whilst he was still at college he received a ton of job offers in the field, dropped out of college and has been professional ever since.&lt;/p&gt;

&lt;p&gt;Around 1999 he was working as a web developer and began to gain an interest in Mozilla. He followed the project mostly from the standpoint of a web developer wanting to see what this new browser was going to turn into. Eventually he learned about XUL, became fascinated with it and started looking for ways to get involved.&lt;/p&gt;

&lt;p&gt;Luckily, before he even really started contributing, a job opened up with Netscape and he was hired to work on the Netscape user interface (CSS, JavaScript and XUL).&lt;/p&gt;

&lt;p&gt;After a few years at Netscape Joe, Dave Hyatt, Chanial and Blake Ross started working on a streamlined version of the Mozilla browser that was called Phoenix, Firebird and eventually Firefox.&lt;/p&gt;

&lt;p&gt;Because of the structure of Mozilla the developers were free to work on the things that were of interest to them. During his time there he created the DOM Inspector and worked for a few years on the browser side of things.&lt;/p&gt;

&lt;p&gt;After his time with Mozilla he started work as a web developer again and soon found that the state of the art tools that he had used as a web developer in the late 90s had not changed. The standard way to debug a web application was using alert dialogs but this was very inefficient and limiting. Joe thought that maybe allowing people to log information to a simple panel could be useful. This is when the birth of modern web developer tools truly began.&lt;/p&gt;

&lt;p&gt;Joe says that features that you see in Firebug today were inspired by the Venkman JavaScript Debugger, View Rendered Source Chart, Console2, Aardvark, and MochiKit JavaScript Interpreter. Let’s take a look at these tools and see how the functionality were absorbed into Firebug.&lt;/p&gt;

&lt;h2 id=&quot;venkman-javascript-debugger&quot;&gt;Venkman JavaScript Debugger&lt;/h2&gt;

&lt;p&gt;A lot of developers are surprised to hear that Firebug is not the first JavaScript debugger for Firefox. Venkman JavaScript Debugger was, until mid 2011, commonly used to debug JavaScript in web pages and extensions.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/venkman-debugger.gif&quot; alt=&quot;Venkman Debugger&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Venkman debugger&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Venkman contained a very powerful feature set that made for an excellent debugger. These included:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Stop&lt;/li&gt;
  &lt;li&gt;Continue&lt;/li&gt;
  &lt;li&gt;Step over&lt;/li&gt;
  &lt;li&gt;Step into&lt;/li&gt;
  &lt;li&gt;Step out&lt;/li&gt;
  &lt;li&gt;JavaScript profiler&lt;/li&gt;
  &lt;li&gt;Save profile data&lt;/li&gt;
  &lt;li&gt;Pretty print&lt;/li&gt;
  &lt;li&gt;Save and restore breakpoints and watches&lt;/li&gt;
  &lt;li&gt;Break on errors&lt;/li&gt;
  &lt;li&gt;Ignore errors&lt;/li&gt;
  &lt;li&gt;Break on exceptions&lt;/li&gt;
  &lt;li&gt;Ignore exceptions&lt;/li&gt;
  &lt;li&gt;Function name guessing&lt;/li&gt;
  &lt;li&gt;Locals&lt;/li&gt;
  &lt;li&gt;Watches&lt;/li&gt;
  &lt;li&gt;Breakpoints&lt;/li&gt;
  &lt;li&gt;Call stack&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;As this is just a quick tour of the extensions that have inspired Web Developer Tools we will not go into any more detail about Venkman here. If you would like to learn more about it then take a look at the &lt;a href=&quot;https://developer.mozilla.org/docs/Venkman&quot;&gt;Venkman page&lt;/a&gt; on MDC.&lt;/p&gt;

&lt;p&gt;Venkman was the inspiration for the JavaScript Debugger used in Firebug.&lt;/p&gt;

&lt;h2 id=&quot;view-source-chart&quot;&gt;View Source Chart&lt;/h2&gt;

&lt;p&gt;This extension shows the browsers interpretation of a web page. It shows the source in a hierarchical view, grouping elements at the same level and graphically displaying HTML tag boundaries.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/view-source-chart.png&quot; alt=&quot;View Source Chart&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;View Source Chart&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;This was the inspiration for Firebug’s HTML panel … the comparison is clear when both tools are compared, especially in early Firebug versions. The formatting is fairly similar except that Firebug has a number of improvements such as expandable and collapsible HTML nodes, improved indentation and live editing. In its time, view rendered source was a very useful way to view the structure of an HTML page and is still preferred by some developers.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/firebug-html-tree.png&quot; alt=&quot;Firebug HTML Tree&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Firebug HTML Tree&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&quot;console2&quot;&gt;Console&lt;sup&gt;2&lt;/sup&gt;&lt;/h2&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/console2.png&quot; alt=&quot;Console2&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Console2&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Console&lt;sup&gt;2&lt;/sup&gt;, pronounced Console Squared or Console Two, replaced the JavaScript Console with what was a revolutionary Error Console.&lt;/p&gt;

&lt;p&gt;This extension made it much simpler to find the cause of JavaScript errors by showing the line number and, eventually, allowing you to link to this line in the source. This method is all that is required to find syntax errors but is not so useful when it comes to finding logic errors. Still, this extension saved developers many, many hours when debugging JavaScript.&lt;/p&gt;

&lt;p&gt;This extension was the inspiration for the error reporting in Firebug’s Console Panel.&lt;/p&gt;

&lt;h2 id=&quot;aardvark&quot;&gt;Aardvark&lt;/h2&gt;

&lt;p&gt;Aardvark was another excellent extension and also the inspiration for Firebug’s Inspector. By moving the mouse over elements on the screen you could view simple DOM properties like tag name, class and id.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/aardvark.png&quot; alt=&quot;Aardvark&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Aardvark&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Sometimes the simplest ideas are the best and the concept of the inspector (highlighter) quickly became one of the core features of Firebug as it made it possible for people to select HTML elements as targets for each of Firebug’s panels.&lt;/p&gt;

&lt;h2 id=&quot;mochikit-javascript-interpreter&quot;&gt;MochiKit JavaScript Interpreter&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://mochi.github.com/mochikit/&quot;&gt;MochiKit&lt;/a&gt; is a lightweight JavaScript library written and maintained by Bob Ippolito. It is Inspired by the Python networking framework and Twisted. It uses the concept of deferred execution to allow asynchronous behavior. This has made it very useful in the development of AJAX applications.&lt;/p&gt;

&lt;p&gt;Of particular note is its ability to load and manipulate JSON-encoded data sets, and MochiKit.DOM, a set of functions to easily create dynamic page components.&lt;/p&gt;

&lt;p&gt;MochiKit forms the foundation of the client-side functionality of the TurboGears Python web-application stack. Perhaps as a result of the author’s involvement in the Python community, MochiKit exhibits many idioms familiar to Python programmers, and is commonly used in Python-based web applications.&lt;/p&gt;

&lt;p&gt;The JavaScript Interpreter allows you to run JavaScript commands a line at a time and view the results in a div. Using this command line it is possible to quickly view the values of DOM properties, change the value of variables or call a pages functions. This was Joe Hewitt’s inspiration for Firebug’s JavaScript Interpreter (part of the JavaScript Console).&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/mochikit-javascript-interpreter.png&quot; alt=&quot;MochiKit JavaScript Interpreter&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Mochikit JavaScript interpreter&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&quot;firebug-through-the-ages&quot;&gt;Firebug Through the Ages&lt;/h2&gt;

&lt;p&gt;Although all of the applications we have discussed so far in this chapter were inspiration for some of Firebug’s features, this does not mean that they were simply merged together and Firebug was complete. Firebug, like most applications was very simple and has gradually evolved into the fantastic tool that it is now.&lt;/p&gt;

&lt;h2 id=&quot;version-02&quot;&gt;Version 0.2&lt;/h2&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/JVCioNT-SYE?fs=1&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;The first publicly available release of Firebug was version 0.2. Although this was the first released version of Firebug it contained some very useful features even though there was only a single panel. In this version of Firebug there is only one panel, which is roughly equivalent to the console panel. AJAX logging was present even in this version.&lt;/p&gt;

&lt;p&gt;The printfire function was the standard way to output messages. Inspected elements were logged to the panel with four tabs on the right hand side. Clicking these tabs expanded the panel’s representation of the element, which consisted of:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The XML tab shows the element in HTML view&lt;/li&gt;
  &lt;li&gt;The CSS tab shows the elements CSS styles&lt;/li&gt;
  &lt;li&gt;The Box tab shows the selected elements classic box model property values&lt;/li&gt;
  &lt;li&gt;The JS tab shows the JavaScript properties of the selected element&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Whenever there were JavaScript errors the status bar indicator would display the number of errors. Clicking on this status bar indicator would open Firebug.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/firebug-02-status-bar-indicator.png&quot; alt=&quot;Firebug 0.2 status bar indicator&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Firebug 0.2 status bar indicator&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&quot;version-03&quot;&gt;Version 0.3&lt;/h2&gt;

&lt;p&gt;Version 0.3 introduced major changes to the way that Firebug worked, particularly the way that the inspector worked. Firebug now had two main tabs, a console tab to display messages and an inspector tab that allowed you to view the element. There was also a new search box that allowed you to search for tabs in the HTML Tree. The Inspector tab had five other tabs:.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Source: The HTML tree. This panel has been largely unchanged from this version onwards.&lt;/li&gt;
  &lt;li&gt;Style: A few computed styles.&lt;/li&gt;
  &lt;li&gt;Layout: Basic layout information.&lt;/li&gt;
  &lt;li&gt;Events: Any events raised triggered on the currently selected element.&lt;/li&gt;
  &lt;li&gt;DOM: JavaScript object view of the currently selected node.&lt;/li&gt;
&lt;/ul&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/HBHkanS1euM?fs=1&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;h2 id=&quot;version-04&quot;&gt;Version 0.4&lt;/h2&gt;

&lt;p&gt;Version 0.4 was the first version to feature the Debugger tab (figure 2.7.7.1).&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Stack traces were now displayed along with error messages.&lt;/li&gt;
  &lt;li&gt;console.log(‘message’), console.warn(‘message’), console.info(‘message’) etc. replaced printfire and were made available to all web pages.&lt;/li&gt;
  &lt;li&gt;In the DOM tab arrays were now expandable and functions could be expanded to show their source.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Obviously, the inclusion of the JavaScript debugger was a major step forwards in Firebug’s evolutionary trail. The whole idea of debugging JavaScript in the browser itself was something we had been waiting a long time for. Great job Joe!&lt;/p&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/LvdcAm1-4zU?fs=1&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;h2 id=&quot;version-10&quot;&gt;Version 1.0&lt;/h2&gt;

&lt;p&gt;After version 0.4.1 Joe realized that people were depending on Firebug for their jobs and decided to have one person work on it full time. Version 1.0 represented a complete redesign of the Firebug user interface from the ground up. A bunch of new features were also released with this version, Joe lists them as:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;CSS editing&lt;/li&gt;
  &lt;li&gt;Network load timing&lt;/li&gt;
  &lt;li&gt;Box model visualization&lt;/li&gt;
  &lt;li&gt;JavaScript profiling&lt;/li&gt;
  &lt;li&gt;Command line autocomplete&lt;/li&gt;
  &lt;li&gt;HTML change highlighting&lt;/li&gt;
  &lt;li&gt;Debugger watchlists&lt;/li&gt;
  &lt;li&gt;DOM editing&lt;/li&gt;
  &lt;li&gt;Separate window support&lt;/li&gt;
  &lt;li&gt;Per-site blacklists&lt;/li&gt;
&lt;/ul&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/Ks_Pp2jghVY?fs=1&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;At this point Joe was spending a lot of time on Firebug and was considering making it a paid product ($15 - $25) so that he could employ a couple of full-time engineers. Needless to say, this was a final option and never happened.&lt;/p&gt;

&lt;p&gt;Although there has been lots of work done on Firebug since version 1.0 most of it has been bugfixes and minor features. Some major changes have crept in though, including:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Console tab: Break on all errors.&lt;/li&gt;
  &lt;li&gt;HTML tab: Break on HTML mutation.&lt;/li&gt;
  &lt;li&gt;DOM tab: Break on property change.&lt;/li&gt;
  &lt;li&gt;Net tab: Break on XHR.&lt;/li&gt;
  &lt;li&gt;Persist button on all tabs.&lt;/li&gt;
  &lt;li&gt;Switch color types.&lt;/li&gt;
  &lt;li&gt;Restartless install&lt;/li&gt;
  &lt;li&gt;Tabs on the top&lt;/li&gt;
  &lt;li&gt;Navigation history&lt;/li&gt;
  &lt;li&gt;Break on next&lt;/li&gt;
  &lt;li&gt;Cookie tab&lt;/li&gt;
  &lt;li&gt;Command line popup&lt;/li&gt;
  &lt;li&gt;Command line history&lt;/li&gt;
  &lt;li&gt;New side panels (e.g. selectors)&lt;/li&gt;
  &lt;li&gt;List of tabs in the toolbar&lt;/li&gt;
  &lt;li&gt;Tab options&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Joe Hewitt talks about these things in his blog post &lt;a href=&quot;http://joehewitt.com/2006/03/15/firebug-a-love-story&quot;&gt;Firebug: A Love Story&lt;/a&gt;.&lt;/p&gt;
</description>
        <pubDate>Wed, 25 Sep 2013 10:22:00 +0100</pubDate>
        <link>http://localhost:4000/the-history-of-firebug/</link>
        <guid isPermaLink="true">http://localhost:4000/the-history-of-firebug/</guid>
      </item>
    
      <item>
        <title>Why it is awesome to work for Mozilla?</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;&lt;img src=&quot;/assets/images/mike-caricature.jpg&quot; alt=&quot;Mike Caricature&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Since my post about &lt;a href=&quot;/what-is-it-like-to-work-as-an-engineer-at-mozilla/&quot;&gt;what it is like to be a Firefox hacker&lt;/a&gt; lots of people have asked about why I chose to work for Mozilla. I had opportunities to work for Google or Facebook but I have always had a great respect for Mozilla.&lt;/p&gt;

&lt;p&gt;Of course, Google and Facebook are also creative and constantly working on awesome stuff but Mozilla is more than just a job… their mission is something that I feel that I really need to fight for.&lt;/p&gt;

&lt;p&gt;Back in 1997 the Netscape browser was pushing more and more traffic towards AOL’s search and other services. It is never any good for a single company to have too much power and control over the internet and if things continued as they were, then it is likely that one company would have “owned” the internet. Could you imagine everybody having to pay a single company for internet access, storing contacts, searches and each page view?&lt;/p&gt;

&lt;p&gt;Eventually, Mozilla broke away from AOL Netscape because they believed that the internet should be free and open for everybody. &lt;a href=&quot;http://www.mozilla.org/mission/&quot;&gt;Mozilla’s mission&lt;/a&gt; is not to simply write and maintain Firefox, it is to keep the power of the Web in people’s hands. Firefox is simply a means to an end in accomplishing this.&lt;/p&gt;

&lt;p&gt;Mozilla does a fantastic job of promoting openness, innovation and opportunity on the Internet. They do this by teaching kids and adults to create web pages, inventing awesome stuff, contributing to web standards and generally trying to make the web a better place. They really are building the future of the internet.&lt;/p&gt;

&lt;p&gt;Mozilla also does a great job of keeping peoples data private. Countless people have asked how this can be when sync data is stored on Mozilla’s servers. We have made huge efforts to keep this data private. All of the data is stored in a gigantic unreadable blob. Each computer has a key that it uses to access the data and without that key the data is completely useless.&lt;/p&gt;

&lt;p&gt;So why is it awesome to work for Mozilla? Well, I am working with some of the most talented, creative developers in the world. The internet is still at risk of becoming “owned” by large organisations and I don’t like this idea and I refuse to go down without a fight. I refuse to hand all of my data over to those that ask nicely enough by offering “free” services in exchange for my privacy. Everything I do at work helps keep the internet free and open to everybody and this helps me feel that I am fighting to save a free and open internet.&lt;/p&gt;

&lt;p&gt;Amazingly, the right to privacy and a desire to make the internet a better place is only one reason that it is awesome to work for Mozilla. Another thing is that my mindset is set squarely within the open source culture. Open source simply produces better software… everyone collaborates, a product evolves at an astonishing rate and the best technology wins. Given enough eyeballs, all bugs are shallow.&lt;/p&gt;

&lt;p&gt;I also think that there is a place for paid software. If somebody is working hard to provide a quality service then I am more than happy to pay, even if it is open source. There is something very appealing about being able to look at a program’s source to make sure a program is doing what it claims to be. Submitting fixes and adding new features to these programs is also something that feels right… it just feels like this is the way things are supposed to work.&lt;/p&gt;

&lt;p&gt;The icing on the cake has to be that everyone that works for Mozilla feels the same way about open source software. There is a unity of purpose at the company that I do not believe exists anywhere else. We don’t create awesome stuff just because we have been asked to do it. We create it because we have an awesome idea and have che chance to bring it to life. We code for the joy of coding and no job gets better than that.&lt;/p&gt;

&lt;p&gt;Amazingly &lt;a href=&quot;http://www.whatcanidoformozilla.org/&quot;&gt;everybody can do something for Mozilla&lt;/a&gt; and join the fight keep the internet open… you don’t even need to know any programming languages.&lt;/p&gt;
</description>
        <pubDate>Sun, 15 Sep 2013 10:10:00 +0100</pubDate>
        <link>http://localhost:4000/why-it-is-awesome-to-work-for-mozilla/</link>
        <guid isPermaLink="true">http://localhost:4000/why-it-is-awesome-to-work-for-mozilla/</guid>
      </item>
    
      <item>
        <title>Bugzilla Tips, Hacks and Etiquette</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;Even after a few years working for Mozilla I still occasionally come across a Bugzilla tip that I don’t know about. This post is a attempt to gather Bugzilla tips from around the Internet whilst adding a few of my own to the list.&lt;/p&gt;

&lt;p&gt;To start, if you’ve never used Bugzilla before (or even if you have), you should watch a video &lt;a href=&quot;https://twitter.com/johnath&quot;&gt;johnath&lt;/a&gt; made called “Bugzilla for Humans.” It gives a really nice overview of key Bugzilla features, as well as tips for more advanced users:&lt;/p&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/piT1pflOTDs?fs=1&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;h2 id=&quot;quicksearch-ill-race-ya&quot;&gt;Quicksearch, I’ll Race Ya!&lt;/h2&gt;

&lt;p&gt;The most useful tip I know of is to set up a keyword search for the quicksearch box. Open &lt;a href=&quot;https://bugzilla.mozilla.org/&quot;&gt;https://bugzilla.mozilla.org/&lt;/a&gt; and right-click the quicksearch box near the top of the page. Select “Add a keyword for this search…” and in the keyword field type “bug.” You can now search bugzilla using queries like this directly from your Firefox Awesome Bar:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bug 50000&lt;/code&gt; opens bug 50000.&lt;/p&gt;

&lt;p&gt;Or even:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bug WONTFIX Inspector&lt;/code&gt; open bugs containing “Inspector” and marked as WONTFIX.&lt;/p&gt;

&lt;p&gt;Two lists of quicksearch fields are available. A simplified list can be found &lt;a href=&quot;http://www.squarefree.com/bugzilla/quicksearch-help.html&quot;&gt;here&lt;/a&gt; and a more complete list can be found &lt;a href=&quot;https://bugzilla.mozilla.org/page.cgi?id=quicksearch.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://twitter.com/beltzner&quot;&gt;Mike Beltzner&lt;/a&gt; created an excellent video explaining some of the ways this feature can be used:&lt;/p&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/14W-XguG--U?fs=1&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;h2 id=&quot;watching-a-component-or-a-developer&quot;&gt;Watching a Component or a Developer&lt;/h2&gt;

&lt;p&gt;If you find yourself interested in a certain area of the Mozilla project e.g. Firefox::Developer Tools, you can opt to &lt;a href=&quot;https://bugzilla.mozilla.org/userprefs.cgi?tab=component_watch&quot;&gt;watch its Bugzilla component&lt;/a&gt;. You can also &lt;a href=&quot;https://bugzilla.mozilla.org/userprefs.cgi?tab=email&quot;&gt;watch certain users&lt;/a&gt;, which is a really neat feature if you’re a new contributor looking to follow the activity of a more experienced developer.&lt;/p&gt;

&lt;h2 id=&quot;autolinkification&quot;&gt;Autolinkification&lt;/h2&gt;

&lt;p&gt;Bugzilla comments are plain text - so typing &amp;lt;U&amp;gt; will produce less-than, U, greater-than rather than underlined text. However, Bugzilla will automatically make hyperlinks out of certain sorts of text in comments. For example, the text “http://www.bugzilla.org” will be turned into a link: http://www.bugzilla.org. Other strings which get linkified in the obvious manner are:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;bug 12345&lt;/li&gt;
  &lt;li&gt;comment 7&lt;/li&gt;
  &lt;li&gt;bug 23456, comment 53&lt;/li&gt;
  &lt;li&gt;attachment 4321&lt;/li&gt;
  &lt;li&gt;mailto:george@example.com&lt;/li&gt;
  &lt;li&gt;george@example.com&lt;/li&gt;
  &lt;li&gt;ftp://ftp.mozilla.org&lt;/li&gt;
  &lt;li&gt;Most other sorts of URL&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;A corollary here is that if you type a bug number in a comment, you should put the word “bug” before it, so it gets autolinkified for the convenience of others.&lt;/p&gt;

&lt;h2 id=&quot;use-needinfo&quot;&gt;Use Needinfo&lt;/h2&gt;

&lt;p&gt;There is a flag for all bugs in Bugzilla called the needinfo flag which should be used if you need information from someone. So if you are asking someone a question, then needinfo them!&lt;/p&gt;

&lt;h2 id=&quot;is-your-bugzilla-butt-ugly&quot;&gt;Is your Bugzilla Butt-Ugly?&lt;/h2&gt;

&lt;p&gt;You are probably still using the default theme. This can be easily remedied:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Click &lt;kbd&gt;Preferencies&lt;/kbd&gt; → &lt;kbd&gt;General Preferences&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Under &lt;kbd&gt;Bugzilla's general appearance (skin)&lt;/kbd&gt; select &lt;kbd&gt;Mozilla&lt;/kbd&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Now your Bugzilla looks &lt;a href=&quot;http://www.youtube.com/watch?v=R2iOCHhJVhE&quot;&gt;sexy and you know it&lt;/a&gt;!&lt;/p&gt;

&lt;h2 id=&quot;does-your-bugmail-make-your-eyes-bleed&quot;&gt;Does your Bugmail make your Eyes Bleed?&lt;/h2&gt;

&lt;p&gt;Well, you probably have Bugzilla set up to use the default email format (text):&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/bugzilla-plain-text-email.jpg&quot; alt=&quot;Bugzilla Plain Text Email&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Bugzilla plain text email&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Switching this to HTML format makes them 1000 times easier to read, especially on a phone. Don’t look for it under the “Email Preferences” tab though, that would be way too easy.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Click &lt;kbd&gt;Preferencies&lt;/kbd&gt; → &lt;kbd&gt;General Preferences&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Under &lt;kbd&gt;Preferred email format&lt;/kbd&gt; select &lt;kbd&gt;HTML&lt;/kbd&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/bugzilla-html-email.jpg&quot; alt=&quot;Bugzilla HTML Email&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Bugzilla HTML email&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&quot;bugzilla-extensions-to-rock-your-world&quot;&gt;Bugzilla Extensions to Rock your World&lt;/h2&gt;

&lt;p&gt;There are a few great extensions available that make Bugzilla a more pleasurable experience. Here are some of my favorites:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;https://addons.mozilla.org/firefox/addon/bugzillajs/&quot;&gt;BugzillaJS&lt;/a&gt;: Created by &lt;a href=&quot;https://twitter.com/gkoberger&quot;&gt;Gregory Koberger&lt;/a&gt; and &lt;a href=&quot;https://twitter.com/rik24d&quot;&gt;Anthony Ricaud&lt;/a&gt;. This extension adds keyboard shortcuts, quick file box, inline image / github previews, relative timestamps, Gravatars and more. More information about features is available on the extensions AMO page. This extension contains almost all of Bugzilla Tweak’s features and more. You can contribute to the addon &lt;a href=&quot;https://github.com/gkoberger/BugzillaJS&quot;&gt;here&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://addons.mozilla.org/firefox/addon/bugzilla-tweaks/&quot;&gt;Bugzilla Tweaks&lt;/a&gt;: Created by &lt;a href=&quot;https://twitter.com/ehsanakhgari&quot;&gt;Ehsan Akhgari&lt;/a&gt;, Dave Lawrence and &lt;a href=&quot;https://twitter.com/globau&quot;&gt;Byron Jones&lt;/a&gt;. This extension adds a bunch of features that do not appear to be documented anywhere. These are features such as adding “Copy Check-in Comment” to the context menu. If anybody knows how to contribute to this extension then please let me know.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://addons.mozilla.org/firefox/addon/github-tweaks-for-bugzilla/&quot;&gt;Github tweaks for Bugzilla&lt;/a&gt;: Created by &lt;a href=&quot;https://twitter.com/dietrich&quot;&gt;Dietrich Ayala&lt;/a&gt;. This extension allows for better Github and Bugzilla integration. On a pull-request page, it adds a new button for submitting the pull-request as an attachment to a bug in bugzilla.mozilla.org. The bug id can be specified by starting your pull request title with “bug ######”. Your Bugzilla credentials are pulled out of Firefox’s password manager. You can contribute to this extension &lt;a href=&quot;https://github.com/autonome/Github-Bugzilla-Tweaks&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://harthur.github.io/bugzilla-todos/&quot;&gt;Bugzilla TODOs&lt;/a&gt;: This is not an extension but a really useful live dashboard created by &lt;a href=&quot;https://twitter.com/harthvader&quot;&gt;Heather Arthur&lt;/a&gt;. It contains five tabs (To Review, To Check In, To Nag, To Fix and To Respond) and, because it is live, it is updated automagically. I keep this open as a pinned tab so that I can instantly (via the favicon) see if somebody wants something from me. You can contribute to this handy little web app &lt;a href=&quot;https://github.com/harthur/bugzilla-todos&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;attachments&quot;&gt;Attachments&lt;/h2&gt;

&lt;p&gt;Use attachments, rather than comments, for large chunks of ASCII data, such as trace, debugging output files, or log files. That way, it doesn’t bloat the bug for everyone who wants to read it, and cause people to receive fat, useless mails.&lt;/p&gt;

&lt;p&gt;Trim screenshots. There’s no need to show the whole screen if you are pointing out a single-pixel problem.&lt;/p&gt;

&lt;p&gt;Don’t attach simple test cases (e.g. one HTML file, one CSS file and an image) as a ZIP file. Instead, upload them in reverse order and edit the referring file so that they point to the attached files. This way, the test case works immediately out of the bug.&lt;/p&gt;

&lt;p&gt;Bugzilla stores and uses a Content-Type for each attachment (e.g. text/html). To download an attachment as a different Content-Type (e.g. application/xhtml+xml), you can override this using a ‘content-type’ parameter on the URL e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;content-type=text/plain.&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;etiquette&quot;&gt;Etiquette&lt;/h2&gt;

&lt;p&gt;If you are changing the fields on a bug, only comment if either you have something pertinent to say, or Bugzilla requires it. Otherwise, you may spam people unnecessarily with bug mail. To take an example: a user can set up their account to filter out messages where someone just adds themselves to the CC field of a bug (which happens a lot.) If you come along, add yourself to the CC field, and add a comment saying “Adding self to CC”, then that person gets a pointless piece of mail they would otherwise have avoided.&lt;/p&gt;

&lt;p&gt;Don’t use sigs in comments. Signing your name (“Bill”) is acceptable, if you do it out of habit, but full mail/news-style four line ASCII art creations are not.&lt;/p&gt;

&lt;p&gt;You should also read &lt;a href=&quot;https://bugzilla.mozilla.org/page.cgi?id=etiquette.html&quot;&gt;Bugzilla’s etiquette guidelines&lt;/a&gt; to learn what behaviors are acceptable for Bugzilla users. In general, just be a nice person and everyone will be happy!&lt;/p&gt;

&lt;h2 id=&quot;credits&quot;&gt;Credits&lt;/h2&gt;

&lt;p&gt;Some of this information was collected from other websites so it is only fair that I give credit where credit is due:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://blog.margaretleibovic.com/post/36893756730/bugzilla-101&quot;&gt;Margaret Leibovic’s Bugzilla 101&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://blog.johnath.com/2010/02/04/bugzilla-for-humans/&quot;&gt;Johnath’s Bugzilla for Humans&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://bugzillatips.wordpress.com/&quot;&gt;Bugzilla Tips Wordpress Blog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.squarefree.com/bugzilla/quicksearch-help.html&quot;&gt;Jesse Ruderman’s Quicksearch Tips&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bugzilla.mozilla.org/page.cgi?id=quicksearch.html&quot;&gt;Bugzilla Quicksearch&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.bugzilla.org/docs/2.18/html/hintsandtips.html&quot;&gt;The Bugzilla Guide - Hints and Tips&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If the comments section below has not loaded below then you probably need to update your browser.&lt;/p&gt;
</description>
        <pubDate>Thu, 27 Jun 2013 10:02:00 +0100</pubDate>
        <link>http://localhost:4000/bugzilla-tips-hacks-and-etiquette/</link>
        <guid isPermaLink="true">http://localhost:4000/bugzilla-tips-hacks-and-etiquette/</guid>
      </item>
    
      <item>
        <title>Disable JavaScript option now available in Firefox Developer Tools</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;At the beginning of April &lt;a href=&quot;http://limi.net/&quot;&gt;Alex Limi&lt;/a&gt; decided that we should &lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=851702&quot;&gt;remove the Enable JavaScript checkbox&lt;/a&gt; from Firefox’s preferences dialog. His reasoning was that clearing that checkbox breaks a huge amount of websites and therefore breaks the web.&lt;/p&gt;

&lt;p&gt;Alex was completely correct and I wholeheartedly agree with the removal of this option but if you look at the bug’s comments you will see that a bunch of people are not so happy with this decision. Well, we have news for you. We have just landed a change that &lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=864249&quot;&gt;adds a tab specific version of this option&lt;/a&gt; to the Firefox Developer Tools preferences panel.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/disable-javascript-option-in-firefox-devtools.jpg&quot; alt=&quot;Disable JavaScript Option in Firefox DevTools&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Disable javascript option in firefox devtools&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;If you check the box then the page will refresh and, from that point on, everything that you open in that tab will have JavaScript disabled. Making this setting per tab makes sense because the developer toolbox has one instance per tab. Closing either the toolbox or the tab enables JavaScript again.&lt;/p&gt;
</description>
        <pubDate>Thu, 30 May 2013 09:59:00 +0100</pubDate>
        <link>http://localhost:4000/disable-javascript-option-now-available-in-firefox-developer-tools/</link>
        <guid isPermaLink="true">http://localhost:4000/disable-javascript-option-now-available-in-firefox-developer-tools/</guid>
      </item>
    
      <item>
        <title>The Application Cache is no longer a Douchebag</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;If you have ever used the application cache you will probably be familiar with how easy it is to break offline functionality and how difficult it is to work out why things are broken. With a large offline web app finding the source of problems can be an almost insurmountable task.&lt;/p&gt;

&lt;p&gt;I guess that what I am saying is that &lt;a href=&quot;http://alistapart.com/article/application-cache-is-a-douchebag&quot;&gt;the application cache is a douchebag&lt;/a&gt;. I completely understand that if there is an error in your application’s manifest you probably don’t want your users to be confronted with a bunch of error messages but something needs to be done.&lt;/p&gt;

&lt;p&gt;Because displaying a bunch of errors about a broken cache manifest is probably undesirable we have decided to create a developer tool that lets you know if you have a problem with your manifest. The main problem we have is that the Toolbox is already becoming crowded and we are just getting started.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/firefox-developer-tools-toolbox.jpg&quot; alt=&quot;Firefox Developer Tools Toolbox&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Firefox developer tools toolbox&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;In order to avoid cluttering the Toolbox we have used the Firefox Command Line. The command line is a place where we can add as many tools as we like without cluttering the interface. To open the Developer Toolbar press &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;f2&lt;/kbd&gt; or select &lt;kbd&gt;Developer Toolbar&lt;/kbd&gt; from the web developer menu.&lt;/p&gt;

&lt;p&gt;The appcache commands are available in &lt;a href=&quot;http://nightly.mozilla.org/&quot;&gt;Firefox Nightly&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To list available appcache commands type “help appcache” in the developer toolbar.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/output-from-the-help-appcache-command.jpg&quot; alt=&quot;Output from the help appcache command&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Output from the help appcache command&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The currently available appcache commands are:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;appcache clear&lt;/code&gt; clears all appcache entries.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;appcache list [searchterm]&lt;/code&gt; lists all appcache entries containing an optional search term&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/output-from-the-appcache-list-command.jpg&quot; alt=&quot;Output from the appcache list command&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Output from the appcache list command&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;appcache viewentry&lt;/code&gt; shows the about:cache-entry page for the current cache entry.&lt;/p&gt;

&lt;p&gt;Note: appcache viewentry will not give you any information until &lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=861866&quot;&gt;bug 861866&lt;/a&gt; is fixed.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;appcache validate [URI]&lt;/code&gt; is by far the most useful of the appcache commands. If a URI is specified then the cache manifest for that page will be validated. As many of you know, there are a lot of things that could invalidate a manifest but this command will uncover most of them.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/output-of-the-appcache-validate-command.jpg&quot; alt=&quot;Output of the appcache validate command&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Output of the appcache validate command&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;If you find any situations where an application cache is invalid and our tool does not pick up the problem then please &lt;a href=&quot;https://bugzilla.mozilla.org/enter_bug.cgi?alias=&amp;amp;assigned_to=nobody%40mozilla.org&amp;amp;attach_text=&amp;amp;blocked=&amp;amp;bug_file_loc=http%3A%2F%2F&amp;amp;bug_severity=normal&amp;amp;bug_status=NEW&amp;amp;cf_blocking_b2g=---&amp;amp;cf_crash_signature=&amp;amp;cf_status_b2g18=---&amp;amp;cf_status_b2g18_1_0_0=---&amp;amp;cf_status_b2g18_1_0_1=---&amp;amp;cf_status_firefox20=---&amp;amp;cf_status_firefox21=---&amp;amp;cf_status_firefox22=---&amp;amp;cf_status_firefox23=---&amp;amp;cf_status_firefox_esr17=---&amp;amp;cf_tracking_b2g18=---&amp;amp;cf_tracking_firefox20=---&amp;amp;cf_tracking_firefox21=---&amp;amp;cf_tracking_firefox22=---&amp;amp;cf_tracking_firefox23=---&amp;amp;cf_tracking_firefox_esr17=---&amp;amp;cf_tracking_firefox_relnote=---&amp;amp;cf_tracking_relnote_b2g=---&amp;amp;comment=&amp;amp;component=Developer%20Tools%3A%20Graphic%20Commandline%20and%20Toolbar&amp;amp;contenttypeentry=&amp;amp;contenttypemethod=autodetect&amp;amp;contenttypeselection=text%2Fplain&amp;amp;data=&amp;amp;defined_groups=1&amp;amp;dependson=&amp;amp;description=&amp;amp;flag_type-203=X&amp;amp;flag_type-37=X&amp;amp;flag_type-41=X&amp;amp;flag_type-5=X&amp;amp;flag_type-607=X&amp;amp;flag_type-720=X&amp;amp;flag_type-721=X&amp;amp;flag_type-737=X&amp;amp;flag_type-748=X&amp;amp;flag_type-781=X&amp;amp;flag_type-787=X&amp;amp;flag_type-791=X&amp;amp;flag_type-799=X&amp;amp;flag_type-800=X&amp;amp;flag_type-802=X&amp;amp;flag_type-809=X&amp;amp;form_name=enter_bug&amp;amp;keywords=&amp;amp;maketemplate=Remember%20values%20as%20bookmarkable%20template&amp;amp;op_sys=All&amp;amp;priority=--&amp;amp;product=Firefox&amp;amp;qa_contact=&amp;amp;rep_platform=All&amp;amp;requestee_type-203=&amp;amp;requestee_type-41=&amp;amp;requestee_type-5=&amp;amp;requestee_type-607=&amp;amp;requestee_type-748=&amp;amp;requestee_type-781=&amp;amp;requestee_type-787=&amp;amp;requestee_type-791=&amp;amp;requestee_type-800=&amp;amp;short_desc=&amp;amp;status_whiteboard=&amp;amp;target_milestone=---&amp;amp;version=unspecified&quot;&gt;let us know&lt;/a&gt;. In fact, if you have an idea for a new appcache command then please &lt;a href=&quot;https://bugzilla.mozilla.org/enter_bug.cgi?alias=&amp;amp;assigned_to=nobody%40mozilla.org&amp;amp;attach_text=&amp;amp;blocked=&amp;amp;bug_file_loc=http%3A%2F%2F&amp;amp;bug_severity=enhancement&amp;amp;bug_status=NEW&amp;amp;cf_blocking_b2g=---&amp;amp;cf_crash_signature=&amp;amp;cf_status_b2g18=---&amp;amp;cf_status_b2g18_1_0_0=---&amp;amp;cf_status_b2g18_1_0_1=---&amp;amp;cf_status_firefox20=---&amp;amp;cf_status_firefox21=---&amp;amp;cf_status_firefox22=---&amp;amp;cf_status_firefox23=---&amp;amp;cf_status_firefox_esr17=---&amp;amp;cf_tracking_b2g18=---&amp;amp;cf_tracking_firefox20=---&amp;amp;cf_tracking_firefox21=---&amp;amp;cf_tracking_firefox22=---&amp;amp;cf_tracking_firefox23=---&amp;amp;cf_tracking_firefox_esr17=---&amp;amp;cf_tracking_firefox_relnote=---&amp;amp;cf_tracking_relnote_b2g=---&amp;amp;comment=&amp;amp;component=Developer%20Tools%3A%20Graphic%20Commandline%20and%20Toolbar&amp;amp;contenttypeentry=&amp;amp;contenttypemethod=autodetect&amp;amp;contenttypeselection=text%2Fplain&amp;amp;data=&amp;amp;defined_groups=1&amp;amp;dependson=&amp;amp;description=&amp;amp;flag_type-203=X&amp;amp;flag_type-37=X&amp;amp;flag_type-41=X&amp;amp;flag_type-5=X&amp;amp;flag_type-607=X&amp;amp;flag_type-720=X&amp;amp;flag_type-721=X&amp;amp;flag_type-737=X&amp;amp;flag_type-748=X&amp;amp;flag_type-781=X&amp;amp;flag_type-787=X&amp;amp;flag_type-791=X&amp;amp;flag_type-799=X&amp;amp;flag_type-800=X&amp;amp;flag_type-802=X&amp;amp;flag_type-809=X&amp;amp;form_name=enter_bug&amp;amp;keywords=&amp;amp;maketemplate=Remember%20values%20as%20bookmarkable%20template&amp;amp;op_sys=All&amp;amp;priority=--&amp;amp;product=Firefox&amp;amp;qa_contact=&amp;amp;rep_platform=All&amp;amp;requestee_type-203=&amp;amp;requestee_type-41=&amp;amp;requestee_type-5=&amp;amp;requestee_type-607=&amp;amp;requestee_type-748=&amp;amp;requestee_type-781=&amp;amp;requestee_type-787=&amp;amp;requestee_type-791=&amp;amp;requestee_type-800=&amp;amp;short_desc=&amp;amp;status_whiteboard=&amp;amp;target_milestone=---&amp;amp;version=unspecified&quot;&gt;tell us&lt;/a&gt;.&lt;/p&gt;
</description>
        <pubDate>Sun, 05 May 2013 09:52:00 +0100</pubDate>
        <link>http://localhost:4000/application-cache-not-a-douchebag/</link>
        <guid isPermaLink="true">http://localhost:4000/application-cache-not-a-douchebag/</guid>
      </item>
    
      <item>
        <title>Moving your Contacts and Calendar Away from Google</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;&lt;img src=&quot;/assets/images/freedom.jpg&quot; alt=&quot;Freedom&quot; /&gt;&lt;/p&gt;

&lt;p&gt;For the past few years I have used Google Contacts to store my contacts and Google Calendar to store my calendars. These services really are excellent, particularly because they allow me to keep my data synchronized between my Android phone and numerous instances of Thunderbird on PCs and Laptops. Unfortunately, I have had issues with my contacts becoming duplicated and even disappearing altogether. I figure that out of roughly 500 contacts I have lost around 200. This really got me thinking, I mean, should I really rely on somebody else to look after my data?&lt;/p&gt;

&lt;p&gt;I don’t know exactly why Google run these services but that is part of the problem. They are an advertising company, after all, and the more data they can collect about me and the people I know the better they can target me with their adverts. Maybe I am paranoid but now that they are dropping Google Reader I just don’t trust them to the extent that I once did.&lt;/p&gt;

&lt;p&gt;Don’t get me wrong, I am not a Google hater, I truly believe that their search engine is excellent and that nothing else comes close to providing such accurate search results, at least when I am not logged in.
There are a number of services that allow this kind of synchronization but I have chosen to use &lt;a href=&quot;https://owncloud.org/&quot; title=&quot;ownCloud&quot;&gt;ownCloud&lt;/a&gt; as it appears to be the most capable open source solution. I have included installation instructions here for the good of the web.&lt;/p&gt;

&lt;h2 id=&quot;installing-owncloud&quot;&gt;Installing ownCloud&lt;/h2&gt;

&lt;h3 id=&quot;if-you-own-your-own-server&quot;&gt;If you own your own server&lt;/h3&gt;

&lt;p&gt;Follow the instructions &lt;a href=&quot;http://software.opensuse.org/download/package?project=isv:ownCloud:community&amp;amp;package=owncloud&quot; title=&quot;Installing ownCloud on your own server&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;shared-hosting&quot;&gt;Shared hosting&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;In your hosts control panel select the latest version of PHP, for JustHost this is in CPanel under PHP Config.&lt;/li&gt;
  &lt;li&gt;Right-click &lt;a href=&quot;https://download.owncloud.com/download/community/setup-owncloud.php&quot; title=&quot;ownCloud installer&quot;&gt;here&lt;/a&gt; and save the file to your computer.&lt;/li&gt;
  &lt;li&gt;Copy the file to http://yourdomain.com/setup-owncloud.php&lt;/li&gt;
  &lt;li&gt;Open http://yourdomain.com/setup-owncloud.php in your browser.&lt;/li&gt;
  &lt;li&gt;Add a username and password but &lt;strong&gt;do not click “Next.”&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;Click &lt;kbd&gt;Advanced&lt;/kbd&gt; and select your database options. A MySQL DB will be way faster than a SQLite DB.&lt;/li&gt;
  &lt;li&gt;Accept the default options.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;exporting-contacts-from-google-contacts&quot;&gt;Exporting Contacts from Google Contacts&lt;/h2&gt;

&lt;p&gt;At the time of writing, exporting contacts from Google Contacts as a .vcf file only exports one name, phone number and email address per contact. Fortunately, if you export your contacts from an Android phone you will keep all of your contact information including mugshots. To do this:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;From a Home or All Apps screen, touch the People icon.&lt;/li&gt;
  &lt;li&gt;Select &lt;kbd&gt;Menu&lt;/kbd&gt; → &lt;kbd&gt;Import / Export&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Select &lt;kbd&gt;Export to storage&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Touch “OK” to confirm.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A file with the .vcf extension will be saved to the root directory of your phone’s internal storage. This file contains all of your contacts including their photos. Transfer this file to your computer via a USB cable or email.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Go to http://yourdomain.com/owncloud/&lt;/li&gt;
  &lt;li&gt;Click &lt;kbd&gt;Contacts&lt;/kbd&gt; → &lt;kbd&gt;Import&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Select the file .vcf file that you copied to your computer and click OK to import.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;importing-calendar-to-owncloud&quot;&gt;Importing Calendar to ownCloud&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Go to &lt;a href=&quot;http://www.google.com/calendar/&quot; title=&quot;Google Calendar&quot;&gt;http://www.google.com/calendar/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Click &lt;kbd&gt;&amp;#9881;&lt;/kbd&gt; → &lt;kbd&gt;Settings&lt;/kbd&gt; → &lt;kbd&gt;Calendars&lt;/kbd&gt; → &lt;kbd&gt;Export Calendar&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Save the .ics file to your computer.&lt;/li&gt;
  &lt;li&gt;Go to http://yourdomain.com/owncloud/&lt;/li&gt;
  &lt;li&gt;Click Files and drag the .ics file into the files window in order to upload it.&lt;/li&gt;
  &lt;li&gt;Click on the .ics file.&lt;/li&gt;
  &lt;li&gt;In the Import calendar dialog that appears select “Default calendar” and click import.&lt;/li&gt;
  &lt;li&gt;When the calendar has been imported close the dialog and delete the .ics file.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;configure-thunderbird&quot;&gt;Configure Thunderbird&lt;/h2&gt;

&lt;h3 id=&quot;calendar&quot;&gt;Calendar&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Uninstall the Provider for Google Calendar add-on.&lt;/li&gt;
  &lt;li&gt;Install &lt;a href=&quot;http://www.sogo.nu/files/downloads/SOGo/Thunderbird/&quot; title=&quot;SOGo Connector&quot;&gt;SOGo Connector&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Install &lt;a href=&quot;http://nic-nac-project.org/~kaosmos/morecols-en.html&quot; title=&quot;MoreFunctionsForAddressBook&quot;&gt;MoreFunctionsForAddressBook&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Install the &lt;a href=&quot;https://addons.mozilla.org/en-US/thunderbird/addon/lightning/&quot; title=&quot;Lightning&quot;&gt;Lightning extension&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;In your owncloud calendar copy your calendar’s CalDAV link.&lt;/li&gt;
  &lt;li&gt;Back in Thunderbird open the calendar.&lt;/li&gt;
  &lt;li&gt;Click &lt;kbd&gt;File&lt;/kbd&gt; → &lt;kbd&gt;New Calendar&lt;/kbd&gt; → &lt;kbd&gt;On the Network&lt;/kbd&gt; → &lt;kbd&gt;Next&lt;/kbd&gt; → &lt;kbd&gt;CalDAV&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Type the following into the location field:&lt;/li&gt;
  &lt;li&gt;http://yourdomain/owncloud/remote.php/caldav/calendars/USERNAME/CALENDARNAME (the default calendar name is defaultcalendar).&lt;/li&gt;
  &lt;li&gt;Check &lt;kbd&gt;Offline Support&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Click &lt;kbd&gt;Next&lt;/kbd&gt;&lt;/li&gt;
  &lt;li&gt;Give your calendar a name and an email address. The email address is used for email notifications.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;contacts&quot;&gt;Contacts&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Uninstall the Google Contacts addon.&lt;/li&gt;
  &lt;li&gt;Install &lt;a href=&quot;http://www.sogo.nu/files/downloads/SOGo/Thunderbird/&quot; title=&quot;SOGo Connector&quot;&gt;SOGo Connector&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;In Thunderbird open the Address Book.&lt;/li&gt;
  &lt;li&gt;&lt;kbd&gt;File&lt;/kbd&gt; → &lt;kbd&gt;New&lt;/kbd&gt; → &lt;kbd&gt;Remote Address Book&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Give your address book a name.&lt;/li&gt;
  &lt;li&gt;Type the URL into the appropriate field. The URL is found in your OwnCloud Contacts area, that little Gear symbol in the bottom left of the Contacts View (same symbol as found in the top right in the Calendar view). Click on the little world (CardDAV Link) symbol and it will display the URL you need for your installation to work.&lt;/li&gt;
  &lt;li&gt;Click &lt;kbd&gt;OK&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Right-click the newly created address book and choose synchronize and your contacts should download.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;configure-android-phone&quot;&gt;Configure Android Phone&lt;/h2&gt;

&lt;h3 id=&quot;clear-current-google-apps&quot;&gt;Clear Current Google Apps&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Go to &lt;kbd&gt;Application Manager&lt;/kbd&gt; → &lt;kbd&gt;All&lt;/kbd&gt;&lt;/li&gt;
  &lt;li&gt;&lt;kbd&gt;Google Calendar Sync&lt;/kbd&gt; → &lt;kbd&gt;Clear Data&lt;/kbd&gt; → &lt;kbd&gt;OK&lt;/kbd&gt; → &lt;kbd&gt;Disable&lt;/kbd&gt; → &lt;kbd&gt;OK&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;kbd&gt;Google Contacts Sync&lt;/kbd&gt; → &lt;kbd&gt;Clear Data&lt;/kbd&gt; → &lt;kbd&gt;OK&lt;/kbd&gt; → &lt;kbd&gt;Disable&lt;/kbd&gt; → &lt;kbd&gt;OK&lt;/kbd&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;contacts-1&quot;&gt;Contacts&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Go to &lt;kbd&gt;People&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Choose &lt;kbd&gt;Settings&lt;/kbd&gt; → &lt;kbd&gt;Accounts&lt;/kbd&gt; → &lt;kbd&gt;Your Google account&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Clear the checkbox so that Google Contacts are no longer synchronized.&lt;/li&gt;
  &lt;li&gt;Install CardDAV from the Google Play Store. There is a free version CardDav-Sync free beta and a paid version called CardDav-Sync beta. The paid version syncs more contact fields. You can start with the free and upgrade later.&lt;/li&gt;
  &lt;li&gt;Run CardDAV-Sync and use these settings:&lt;/li&gt;
  &lt;li&gt;Server URL: &amp;lt;servername&amp;gt;/owncloud/remote.php/carddav/
    &lt;ul&gt;
      &lt;li&gt;Use SSL: check accordingly.&lt;/li&gt;
      &lt;li&gt;Username: your login name.&lt;/li&gt;
      &lt;li&gt;Password: your password.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Click &lt;kbd&gt;OK&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Go back to People.&lt;/li&gt;
  &lt;li&gt;Choose &lt;kbd&gt;Settings&lt;/kbd&gt; → &lt;kbd&gt;Contacts to display&lt;/kbd&gt; → &lt;kbd&gt;Customize&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Expand your Google account and clear all of it’s checkboxes.&lt;/li&gt;
  &lt;li&gt;Expand your CardDav account and check all of of it’s checkboxes.&lt;/li&gt;
  &lt;li&gt;Click &lt;kbd&gt;OK&lt;/kbd&gt; and your contacts will be synchronized.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;calendar-1&quot;&gt;Calendar&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Install CalDAV from the Google Play Store. There is a free version called CalDav-Sync free beta and a paid version called CalDav-Sync beta, both written by Marten Gajda.&lt;/li&gt;
  &lt;li&gt;Open Calendar.&lt;/li&gt;
  &lt;li&gt;Choose &lt;kbd&gt;&amp;#9881;&lt;/kbd&gt; → &lt;kbd&gt;Settings&lt;/kbd&gt; → &lt;kbd&gt;Your Google account&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Clear the checkbox so that Google Calendar is no longer synchronized.&lt;/li&gt;
  &lt;li&gt;Click &lt;kbd&gt;Add Account&lt;/kbd&gt; → &lt;kbd&gt;CalDav&lt;/kbd&gt; and use these settings.&lt;/li&gt;
  &lt;li&gt;Server URL: &amp;lt;servername&amp;gt;/owncloud/remote.php/caldav/
    &lt;ul&gt;
      &lt;li&gt;Use SSL: check accordingly.&lt;/li&gt;
      &lt;li&gt;Username: your login name.&lt;/li&gt;
      &lt;li&gt;Password: your password.&lt;/li&gt;
      &lt;li&gt;Click Next.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Under “Select accounts to sync” select all appropriate calendars.&lt;/li&gt;
  &lt;li&gt;Click &lt;kbd&gt;Next&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Enter the email address. The email address is used for email notifications.&lt;/li&gt;
  &lt;li&gt;Click OK and your calendar(s) will be synchronized.&lt;/li&gt;
  &lt;li&gt;Go to &lt;kbd&gt;phone Settings&lt;/kbd&gt; → &lt;kbd&gt;Accounts&lt;/kbd&gt; → &lt;kbd&gt;Google&lt;/kbd&gt; → Select the Google account with the sync icon next to it → Uncheck &lt;kbd&gt;calendar&lt;/kbd&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Congratulations, you now no longer need an external service to synchronize your contacts and calendar. As a bonus there are a bunch of ownCloud add-ons that give you much more power than you previously had.&lt;/p&gt;
</description>
        <pubDate>Tue, 26 Mar 2013 10:42:00 +0000</pubDate>
        <link>http://localhost:4000/moving-contacts-calendar-google/</link>
        <guid isPermaLink="true">http://localhost:4000/moving-contacts-calendar-google/</guid>
      </item>
    
      <item>
        <title>How to install Django on JustHost (and maybe other shared hosts)</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/frustrated-developer.jpg&quot; alt=&quot;Frustrated developer&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Frustrated developer&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;If you search Google for “how to install Django on JustHost” you may be surprised to find tens of thousands of articles claiming that it can’t be done and none claiming that it can.
Well, it can and here’s how:&lt;/p&gt;

&lt;h2 id=&quot;log-in-using-ssh-access&quot;&gt;Log in using SSH access&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;In the Security section of your control panel click &lt;kbd&gt;SSH/Shell Access&lt;/kbd&gt; → &lt;kbd&gt;Manage SSH Keys&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Click &lt;kbd&gt;Generate a new key&lt;/kbd&gt;, enter a password and click &lt;kbd&gt;Generate Key&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;After the key is generated click &lt;kbd&gt;Go back&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Click the &lt;kbd&gt;Manage Authorisation&lt;/kbd&gt; and click &lt;kbd&gt;Authorize&lt;/kbd&gt;.&lt;/li&gt;
  &lt;li&gt;Now download the private key to the folder in which you would like to keep it.&lt;/li&gt;
  &lt;li&gt;Add the key to your SSH Client.&lt;/li&gt;
  &lt;li&gt;Connect to your primary domain using your JustHost login information (the same as logging in to your cPanel).&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;install-python-272&quot;&gt;Install Python 2.7.2&lt;/h2&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; ~/python
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~/python
wget http://www.python.org/ftp/python/2.7.2/Python-2.7.2.tgz
&lt;span class=&quot;nb&quot;&gt;tar &lt;/span&gt;zxfv Python-2.7.2.tgz
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; Python-2.7.2.tgz
find ~/python &lt;span class=&quot;nt&quot;&gt;-type&lt;/span&gt; d | xargs &lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;0755
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;Python-2.7.2
./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/python
make
make &lt;span class=&quot;nb&quot;&gt;install
cd&lt;/span&gt; ..
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; Python-2.7.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;modify-bashrc&quot;&gt;Modify ~/.bashrc&lt;/h2&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;vim ~/.bashrc &lt;span class=&quot;c&quot;&gt;# Press i and enter the following:&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/python/bin:&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# press &amp;lt;escape&amp;gt;:wq&amp;lt;enter&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ~/.bashrc &lt;span class=&quot;c&quot;&gt;# Whenever you want to work using Python 2.7 in the&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# console you will need to enter this&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;test-your-python-install&quot;&gt;Test your Python install&lt;/h2&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python &lt;span class=&quot;nt&quot;&gt;-V&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# This should output &quot;Python 2.7.2&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;install-setuptools&quot;&gt;Install setuptools&lt;/h2&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;wget http://pypi.python.org/packages/source/s/setuptools/setuptools-0.6c11.tar.gz
&lt;span class=&quot;nb&quot;&gt;tar &lt;/span&gt;xzvf setuptools-0.6c11.tar.gz
&lt;span class=&quot;nb&quot;&gt;rm &lt;/span&gt;setuptools-0.6c11.tar.gz
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;setuptools-0.6c11
python setup.py &lt;span class=&quot;nb&quot;&gt;install
cd&lt;/span&gt; ..
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; setuptools-0.6c11
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;install-pip&quot;&gt;Install pip&lt;/h2&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;wget http://pypi.python.org/packages/source/p/pip/pip-1.2.1.tar.gz
&lt;span class=&quot;nb&quot;&gt;tar &lt;/span&gt;xzvf pip-1.2.1.tar.gz
&lt;span class=&quot;nb&quot;&gt;rm &lt;/span&gt;pip-1.2.1.tar.gz
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;pip-1.2.1
python setup.py &lt;span class=&quot;nb&quot;&gt;install
cd&lt;/span&gt; ..
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; pip-1.2.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;install-django-flup-and-mysql-python-module&quot;&gt;Install Django, flup and MySQL Python Module&lt;/h2&gt;

&lt;p&gt;Now that pip is installed this is easy part.&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pip &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;Django
pip &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;flup
pip &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;MySQL-python
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;create-htaccess&quot;&gt;Create .htaccess&lt;/h2&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~/public_html/mysite &lt;span class=&quot;c&quot;&gt;# where mysite is the root folder of your site&lt;/span&gt;
vim .htaccess &lt;span class=&quot;c&quot;&gt;# Press i then enter the following:&lt;/span&gt;
AddHandler fcgid-script .fcgi
RewriteEngine On
RewriteCond %&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;REQUEST_FILENAME&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt;
RewriteRule ^&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysite.fcgi/&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;QSA,L] &lt;span class=&quot;c&quot;&gt;# Press &amp;lt;escape&amp;gt;:wq&amp;lt;enter&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;configure-your-website&quot;&gt;Configure Your Website&lt;/h2&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; ~/django-projects
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~/django-projects
django-admin.py startproject myproject &lt;span class=&quot;c&quot;&gt;# I use the same name as mysite&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# without any periods&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~/public_html/mysite
vim mysite.fcgi &lt;span class=&quot;c&quot;&gt;# Press i then enter the following:&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#!/home/your_username/python/bin/python&lt;/span&gt;
import sys, os
&lt;span class=&quot;c&quot;&gt;# Where /home/your_username is the path to your home directory&lt;/span&gt;
sys.path.insert&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0, &lt;span class=&quot;s2&quot;&gt;&quot;/home/your_username/python&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
sys.path.insert&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;13, &lt;span class=&quot;s2&quot;&gt;&quot;/home/your_username/django-projects/myproject&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
os.environ[&lt;span class=&quot;s1&quot;&gt;'DJANGO_SETTINGS_MODULE'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'myproject.settings'&lt;/span&gt;
from django.core.servers.fastcgi import runfastcgi
runfastcgi&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;threaded&quot;&lt;/span&gt;, &lt;span class=&quot;nv&quot;&gt;daemonize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;false&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Press &amp;lt;escape&amp;gt;:wq&amp;lt;enter&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;0755 mysite.fcgi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;test-your-configuration&quot;&gt;Test your configuration&lt;/h2&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python mysite.fcgi
&lt;span class=&quot;c&quot;&gt;# Fix any errors and run the command again. When you have an HTML page&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# returned your Django install is complete. You should be able to go to your&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# sites URL and view the Django welcome page.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;thats-everything&quot;&gt;That’s everything&lt;/h2&gt;

&lt;p&gt;Now you can get to work and create some real Django pages.&lt;/p&gt;

&lt;h2 id=&quot;a-few-tips&quot;&gt;A Few Tips&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Remember to install every python and django package using pip - that way they will be available to your django app.&lt;/li&gt;
  &lt;li&gt;Keep in mind that every Django command like syncdb, collectstatic  etc. should be run using the correct version of Python. This means using source ~/.bashrc every time you log into your SSH client e.g.
    &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;source ~/.bashrc
python manage.py syncdb
python manage.py shell
etc.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Mon, 21 Jan 2013 12:00:00 +0000</pubDate>
        <link>http://localhost:4000/install-django-justhost/</link>
        <guid isPermaLink="true">http://localhost:4000/install-django-justhost/</guid>
      </item>
    
      <item>
        <title>Firefox DevTools API</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;Hopefully, most of you are familiar with &lt;a href=&quot;https://developer.mozilla.org/docs/Tools&quot; title=&quot;Firefox Developer Tools&quot;&gt;Firefox Developer Tools&lt;/a&gt; by now, if not then now is the time to get familiar!
The DevTools Team recently met up in London to talk about, and generally hack on, developer tools stuff and it turned out to be an amazingly productive time. The DevTools team has two branches, the debugger team and the inspector team so I will discuss them separately.&lt;/p&gt;

&lt;h2 id=&quot;the-debugger-team-aka-team-minotaur&quot;&gt;The Debugger Team a.k.a. Team Minotaur&lt;/h2&gt;

&lt;p&gt;Rob Campbell talked about how to build a Jetpack addon using Scratchpad. They have managed to get &lt;a href=&quot;http://blog.astithas.com/2012/10/debugging-firefox.html&quot; title=&quot;Firefox chrome debugging&quot;&gt;Firefox chrome debugging&lt;/a&gt; working… it is still work in progress but it will be extremely useful for debugging Firefox OS etc. Mihai Sucan managed to get the Web Console working to log errors, network requests etc from a &lt;a href=&quot;https://wiki.mozilla.org/Gaia&quot; title=&quot;Gaia&quot;&gt;Gaia&lt;/a&gt; installation. They even managed to step through CoffeeScript using sourcemaps!&lt;/p&gt;

&lt;p&gt;Not debugger related but also by a member of that team, Victor Porof demoed WebGL live shader editing using scratchpad.&lt;/p&gt;

&lt;h2 id=&quot;the-inspector-team-aka-team-carnage-&quot;&gt;The Inspector Team a.k.a. Team Carnage &lt;sup id=&quot;fnref:carnage&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:carnage&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/h2&gt;

&lt;p&gt;Paul Rouget really was on fire, he has managed to get the Responsive Design View to use mobile style scrollbars instead of the standard ones.&lt;/p&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/M2y5S7p81jU?fs=1&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Paul has also managed to add a live preview to the DOM Tree à la Sublime Text and added an OSX fullscreen button to the scratchpad.&lt;/p&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/61tQij_ox9k?fs=1&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Paul, Heather and myself managed to get a new panel management system working. These panels will be a little like Firebug panels on steroids and will ultimately make all of our lives much easier, more about that below.&lt;/p&gt;

&lt;h2 id=&quot;others&quot;&gt;Others&lt;/h2&gt;

&lt;p&gt;Mark Goodwin has rewritten the &lt;a href=&quot;https://developer.mozilla.org/docs/Tools/GCLI&quot; title=&quot;The Firefox Command Line&quot;&gt;Command Line&lt;/a&gt; cookie command so that it is much more reliable when creating and editing cookies. Kevin Dangoor added an in page HTML editor that can be used along with the DOM Tree for Dreamweaver-like editing.&lt;/p&gt;

&lt;h2 id=&quot;the-devtools-api&quot;&gt;The DevTools API&lt;/h2&gt;

&lt;p&gt;Before I say anything about this API I would like to add that it is so early alpha that it is a long way away from being merged with Firefox’s main branches. Everything here is subject to change so don’t use it, at least no until we have everything working properly!
Paul Rouget has also blogged about the &lt;a href=&quot;http://paulrouget.com/e/devtools-toolbox/&quot; title=&quot;The DevTools Toolbox&quot;&gt;DevTools Toolbox&lt;/a&gt; in a little less detail. I stole the images on this page from him to save a little time… thanks Paul.&lt;/p&gt;

&lt;p&gt;I mentioned earlier that we will be moving to panels similar to Firebug’s. Of course, a lot of people like our sidebar so we didn’t want to lose that. Unfortunately, if every tool was allowed to choose how and where it’s panels are opened we very quickly have no space for the content area, we call this phenomena “The DevTools Donut.”&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/firefox-developer-tools-donut.jpg&quot; alt=&quot;Firefox Developer Tools Donut&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Firefox developer tools donut&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;We have also received complaints that opening a sidebar causes reflow and can make it impossible for pages that use media queries to be edited properly. Others do not like editing at the bottom of the screen like in Firebug because some tools are better off in a side panel.&lt;/p&gt;

&lt;p&gt;The DevTools API allows a tool to register itself. On registration the tool will be passed an iframe in which it will be responsible for rendering itself. Of course, we will send events to the tool so that it can react as appropriate. This means that tools can forget about panels and leave all panel related activities to be handled by the panel manager.&lt;/p&gt;

&lt;p&gt;Registering a tool is fairly simple:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;gDevTools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerTool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;myToolId&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;killswitch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;devtools.mytool.enabled&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Your tool needs to create this&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;icon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;chrome://browser/skin/devtools/mytool-tool-icon.png&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;chrome://browser/content/devtools/mytool.xul&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l10n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;ToolboxMyTool.label&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;aIFrameWindow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;aTarget&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MyToolInstance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;aIFrameWindow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;aTarget&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;MyToolInstance needs to have a build method that accepts two arguments, an iframe.contentWindow and a target. The window is the window in which your tool is to build itself and the target is an object that specifies a gDevTools.TargetType and a value such as a tab. It also needs a destroy method so that it can clean up listeners etc. when the toolbox is closed.&lt;/p&gt;

&lt;p&gt;The tools open in what we call the Toolbox. This toolbox appears at the bottom of the content area by default but can also be moved to the right of the content area or popped out. Tools will keep their state when changing tabs so you do not usually need any special mechanism to save and restore state.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/toolbox-displayed-below-content.jpg&quot; alt=&quot;Toolbox displayed below content&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Toolbox displayed below content&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/toolbox-displayed-on-the-right-of-content.jpg&quot; alt=&quot;Toolbox displayed on the right of content&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Toolbox displayed on the right of content&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/toolbox-undocked.jpg&quot; alt=&quot;Toolbox undocked&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Toolbox undocked&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Tools do not need to live in a panel. We also have a mechanism that allows you to register a Firefox Command Line command and display it as a button. This makes it extremely easy to add buttons to create screenshots, trigger responsive design mode, restart Firefox etc.&lt;/p&gt;

&lt;p&gt;Are we missing anything? I don’t think so but if we are then feel free to let us know.&lt;/p&gt;

&lt;h3 id=&quot;resources&quot;&gt;Resources&lt;/h3&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:carnage&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I can neither confirm or deny that “Team Carnage” is the inspector team’s official name although we may or may not be searching for one. If you can think of a better name then please let us know. &lt;a href=&quot;#fnref:carnage&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Fri, 05 Oct 2012 09:32:00 +0100</pubDate>
        <link>http://localhost:4000/firefox-devtools-api/</link>
        <guid isPermaLink="true">http://localhost:4000/firefox-devtools-api/</guid>
      </item>
    
      <item>
        <title>How well does your browser protect your privacy?</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;Having downsized my home a couple of times in the last year it is no understatement to say I have urgent space issues. I have power tools, large kitchen devices and surplus everything else. I looked online for a new shed, comparing reviews and investigating the UK’s top shed building companies in my typically obsessive way. Having found “the one”, I paid the company and am currently waiting for the timber that I will use to make the concrete base for the shed in preparation for delivery.&lt;/p&gt;

&lt;p&gt;Imagine my irritation a few days after my investigations to discover that almost every web page I visit contains some kind of shed advert! It seems that the popular search engine that I use actually owns a large advertising and tracking company and that this company advertises on a very large percentage of websites. A lot has been said about online privacy and users rights to own their data but little has been said about what can be done about it.&lt;/p&gt;

&lt;p&gt;It irks me that my search results have suddenly become shed based… wood, cedar, paint, tools internet and house are all terms that result in the first few results being related to sheds. Interestingly there is a “Why do I see this?” link next to these results and clicking this link provides an option not to receive these targeted results. Conveniently, if I attempt to opt out nothing changes and if I look at the option again it remains set for me to receive targeted results. I also find that the search results that I receive appear to be the results that the search company think that I want to receive.&lt;/p&gt;

&lt;p&gt;I greatly dislike the fact that if you and I search for a particular term both us us will receive a completely different set of results. I would love to say that tracking a user in this way should be illegal but the truth is that online advertising is very big business and it won’t be going away any time soon. A quick look at the profits of large search engine and social media companies shows just how lucrative online advertising can be. I have nothing against online advertising itself but I do have a problem with the methods that some websites and online stores employ in order to track my online activity.&lt;/p&gt;

&lt;p&gt;Before the &lt;a href=&quot;http://edition.cnn.com/2012/03/01/tech/social-media/twitter-selling-tweets/&quot;&gt;recent(ish) media outrage&lt;/a&gt; would you ever have thought that Twitter would begin selling it’s users tweets? Google’s mission is to organize the world’s information and make it universally accessible and useful. Lots of people I know find this a frightening concept. Need I mention Facebook and the many privacy issues that have been reported. Personally, I don’t mind the idea of them using e.g. pictures that I have uploaded, after all, I did upload the picture to their servers. I really do dislike them using my data to target me with their adverts.&lt;/p&gt;

&lt;p&gt;Tracking aside, there are bigger issues to worry about. Many web sites, in particularly forums, send usernames and passwords in plain text. When the data is sent over the internet it goes through a bunch of servers before it arrives at it’s destination. It is simple to find the path that your data takes using traceroute:&lt;/p&gt;

&lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nf&quot;&gt;tracert&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;google.com&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Tracing&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;google.com&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;173.194.34.72&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;over&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;maximum&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hops:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;my.router&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;192.168.1.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;93.186.155.65-ifnl.net&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;93.186.155.65&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ge-2-0-0-xcr1.lsw.cw.net&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;194.112.69.129&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;xe-4-3-0-xcr1.lns.cw.net&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;195.2.28.42&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;81&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;85&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;82&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;72.14.198.113&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;36&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;209.85.240.63&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;209.85.253.31&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lhr14s19-in-f8.1e100.net&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;173.194.34.72&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;All eight steps in this traceroute are points where a device could be intercepting your usernames and passwords and you would know nothing about it. One tool that helps protect against this kind of activity is the Secure Sockets Layer (SSL).&lt;/p&gt;

&lt;p&gt;SSL provides a way to create an encrypted channel between an application running on your computer and an application running on another computer. When it comes to web pages then the secure protocol that we use is HTTPS. When you are on a webpage containing a log in dialog it is only safe to submit your username and password only if the page is an HTTPS page.&lt;/p&gt;

&lt;p&gt;So, why don’t we just use HTTPS all of the time, would that not solve all of our privacy issues? No, unfortunately not. HTTPS ensures that your data is safe between your computer and the destination server. Once your data is on the server it is in the hands of the organization that owns the server. This is highly likely to be a legitimate server but it could just as easily be an evil webmaster that is attempting to gather your personal information.&lt;/p&gt;

&lt;p&gt;A useful Firefox extension that will use HTTPS versions of a site whenever available is &lt;a href=&quot;https://www.eff.org/https-everywhere&quot; title=&quot;HTTP Anywhere&quot;&gt;HTTPS Everywhere&lt;/a&gt;. I would certainly suggest using it, after it is installed you will find that a large amount of sites will automatically run using HTTPS.&lt;/p&gt;

&lt;p&gt;There is an excellent article that explains why you would would want to encrypt your internet traffic on Pixel Privacy’s website &lt;a href=&quot;https://pixelprivacy.com/resources/how-to-encrypt-your-traffic/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Another issue that plagues the internet today is website spoofing / phishing. Website spoofers create websites that looks very similar to a site that you commonly use with the soul purpose of gaining information about you. In the last couple of years sites that directly ask you for information such as bank or credit card details have become more popular. An example of this kind of site can be found &lt;a href=&quot;http://ismycreditcardstolen.com&quot; title=&quot;Is my credit card stolen&quot;&gt;here&lt;/a&gt;. The page does not submit any information, in fact you don’t really need to enter anything, it is designed as a teaching aid. Try it, you can trust it… honest (to be safe don’t use your real information).&lt;/p&gt;

&lt;p&gt;Compared to the illegal vulnerabilities that we face, tracking is not such a worry but more of an irritating abuse of privacy. Google, Facebook, Twitter and others make money by providing users with a free service in return for information about them. This information is either used by the sites themselves or sold to other sites in order to better target you with adverts that they believe that you will respond to. This video highlights this issue in quite an eye opening way:&lt;/p&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/yZKul_awxMA&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Google and Facebook have built relationships with millions of other websites to help them track your web activity using cookies. Google uses it’s adverts, and analytical services to track what you do whilst Facebook uses it’s log in services and like buttons. It is possible to disable cookies in your browser preferences but you would find that many sites would not work properly and you would have to log in every time you visit. Deleting cookies can help but some websites create zombie cookies (the word cookie here is misleading).&lt;/p&gt;

&lt;p&gt;Zombie cookies are stored in multiple locations using multiple methods e.g. Flash LSOs, cookies, local storage, web databases etc. When a zombie cookie is erased it recreates itself along with it’s gathered information when you return to a related website.&lt;/p&gt;

&lt;p&gt;There is an excellent Firefox extension called &lt;a href=&quot;https://addons.mozilla.org/firefox/addon/lightbeam/&quot;&gt;Lightbeam&lt;/a&gt;. Lightbeam allows you to see what kind of communications go on between the sites you visit. When the extension is installed click on the white circle at the bottom right of the browser to start. A tree similar to the one below will appear with each node representing a website or domain. The collusion developers are working on adding more features, such as the ability to click on any node in the graph and tell Firefox to block third-party cookies to that site. They are also working on visualizing other methods of tracking besides third-party cookies. If you would like to keep an eye on their progress, file a bug, request a feature, or get a copy of the source code, please go to &lt;a href=&quot;http://github.com/toolness/collusion&quot;&gt;http://github.com/toolness/collusion&lt;/a&gt;.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/the-excellent-collusion-extension.jpg&quot; alt=&quot;The excellent Lightbeam extension&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;The excellent Lightbeam extension&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Unfortunately, even when cookies are blocked there are things that websites can do in order to track you. Take for example a Facebook like button, even without cookies it would be capable of informing Facebook which website you were on when you clicked the button and which page referred you to that website. There is really very little, if anything, that you can do in order to prevent this.&lt;/p&gt;

&lt;p&gt;Another technique that can be used to identify you is fingerprinting. This is a method of gathering information about your browser in an attempt to uniquely identify you. Although you may think your browser is not unique consider how unique your personal combination of screen size, color depth, time zone, user agent and browser plugins. You can check how unique your browser is &lt;a href=&quot;http://panopticlick.eff.org/&quot; title=&quot;How unique is your browser&quot;&gt;here&lt;/a&gt;, the odds are that you can be uniquely identified. This method could potentially be used to track you without using cookies but at the time of writing it is not commonly used.&lt;/p&gt;

&lt;p&gt;I have always worried about my online privacy. In fact, it is because Mozilla is a non profit organization that I work for them. They are not an advertising company so I can be absolutely certain that my browser is not spying on me. Of course, tracking cookies are part of the web so we can’t block them but we are actively working on ways to give you control of this area of the internet. Another video:&lt;/p&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/2J0ITwUZ4lc&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Cheesy maybe, but very educational.&lt;/p&gt;

&lt;p&gt;Firefox contains “&lt;a href=&quot;https://www.mozilla.org/dnt/&quot;&gt;Do not track&lt;/a&gt;.” Do Not Track is a feature in Firefox that allows you to let a website know you would like to opt-out of third-party tracking for purposes including behavioral advertising. Companies are starting to support Do Not Track, but you may not notice many changes until more tracking companies choose to honor it. Mozilla are actively working with companies that have started to implement Do Not Track and with others who have committed to doing so soon.
How do you enable “Do not track?” Simple, watch this video:&lt;/p&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/D0ieagw4jFI&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;In fact, if you want to go all out against tracking and advertising you could also install these Firefox extensions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.eff.org/https-everywhere&quot;&gt;HTTPS Everywhere&lt;/a&gt; - As mentioned above, HTTPS Everywhere is a Firefox and Chrome extension that encrypts your communications with many major websites, making your browsing more secure. It is available for Firefox and Chrome bug due to a Chrome bug has far better stability in Firefox.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://addons.mozilla.org/en-US/firefox/addon/adblock-plus/?src=cb-dl-users&quot;&gt;Adblock Plus&lt;/a&gt; - Annoyed by adverts? Troubled by tracking? Bothered by banners? Install Adblock Plus now to regain control of the internet and change the way that you view the web.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://addons.mozilla.org/en-US/firefox/addon/betterprivacy/?src=cb-dl-users&quot;&gt;Better Privacy&lt;/a&gt; - Remove or manage a new and uncommon kind of cookies, better known as LSO’s (mentioned above when talking about zombie cookies). The BetterPrivacy safeguard offers various ways to handle Flash-cookies set by Google, YouTube, Ebay and others …&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://addons.mozilla.org/en-US/firefox/addon/ghostery/?src=cb-dl-users&quot;&gt;Ghostery&lt;/a&gt; - Ghostery sees the “invisible” web, detecting trackers, web bugs, pixels, and beacons placed on web pages by Facebook, Google Analytics, and over 1,000 other ad networks, behavioral data providers, web publishers - all companies interested in your activity.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://addons.mozilla.org/firefox/addon/lightbeam/&quot;&gt;Lightbeam&lt;/a&gt; - As mentioned above, visualize who’s tracking you in real time. To get started, click on the Collusion icon in the bottom-right corner of your browser. (You may need to show the Add-on Bar to see the icon).&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://addons.mozilla.org/en-US/firefox/addon/noscript/&quot;&gt;NoScript&lt;/a&gt; - NoScript allows you more control over JavaScript running in your browser. It allows granular control over which scripts you would like to allow to run on any page allowing you to e.g. block JavaScript from third party sites. It really is a very good extension, but it needs to be used with care as this extension is the most likely out of this list to break websites.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://addons.mozilla.org/en-US/firefox/addon/cookie-monster/&quot;&gt;Cookie Monster&lt;/a&gt; - Provides an easy NoScript-style toolbar button for changing domain-specific cookie settings so you can default to forcing session cookies and easily allow them for just the domains where you want “Remember Me” to work.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In fact, there were 798 Firefox extensions related to Privacy &amp;amp; Security at the time of writing, the four I have selected here are, in my opinion, the cream of the crop. Of course, you may have your own favorites… feel free to let us know.&lt;/p&gt;
</description>
        <pubDate>Sun, 05 Aug 2012 09:22:00 +0100</pubDate>
        <link>http://localhost:4000/browser-protect-privacy/</link>
        <guid isPermaLink="true">http://localhost:4000/browser-protect-privacy/</guid>
      </item>
    
      <item>
        <title>What is it like to work as an engineer at Mozilla?</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;This question &lt;a href=&quot;http://www.quora.com/Mozilla/What-is-it-like-to-work-as-an-engineer-at-Mozilla&quot;&gt;popped up on Quora recently&lt;/a&gt;. I have been working on the &lt;a href=&quot;https://www.mozilla.org/en-US/firefox/technology/#tools&quot;&gt;Developer Tools Team&lt;/a&gt; at Mozilla for over a year now and would love to let you all know what is it like. To see this from my perspective I you will need to know a little about my background.&lt;/p&gt;

&lt;p&gt;I have always enjoyed reverse engineering software just to see how it ticks. If you were in the habit of using pokes to gain invulnerability or infinite lives on a Commodore or Acorn computer then I probably helped you cheat. I used to obtain many of my games from magazines because they would send them to me so that I could send them pokes or explain how to complete the latest adventure games.&lt;/p&gt;

&lt;p&gt;A few years later Netscape Communicator 4.0 was released and I was looking at the source. I discovered the &lt;a href=&quot;https://www.mozilla.org/book/&quot;&gt;about:mozilla page&lt;/a&gt; and was impressed by the attitude that they had to open source… after all, the web is the ultimate open platform. I desperately wanted to work for Mozilla but, unfortunately, I believed that Mozilla was an organization full of Unix bearded academics each trying to show how clever they were. I am not sure where that image came from, but it was very common at the time.&lt;/p&gt;

&lt;p&gt;Fast forward 5 years and I was regularly contributing add-ons and fixes to the &lt;a href=&quot;http://www.oscommerce.com/&quot;&gt;osCommerce&lt;/a&gt; project. I had an online store and as I tweaked my store I shared my changes with the community. I really enjoyed the fact that I was helping make tens of thousands of online stores better every time I submitted a small fix or created an add-on. I made my money working as an admin for over 60,000 users covering hundreds of domains.&lt;/p&gt;

&lt;p&gt;Fast forward 10 - 15 years and I had a problem with &lt;a href=&quot;https://getfirebug.com/&quot;&gt;Firebug&lt;/a&gt;. I contacted Joe Hewitt and he said he would take a look. Weeks went by and, not being the patient type, I decided I would take a look myself. I fixed the problem and let Joe know about it… at this point I don’t think that the &lt;a href=&quot;http://code.google.com/p/fbug/issues/list&quot;&gt;Firebug Issue List&lt;/a&gt; existed but I was surprised how quickly it was fixed in the release version. From that point I contributed Firebug fixes on and off for a few years.&lt;/p&gt;

&lt;p&gt;Eventually &lt;a href=&quot;http://antennasoft.net/robcee/&quot;&gt;Rob Campbell &lt;/a&gt;started to hint that I should start working for Mozilla. Unfortunately, I still felt under-qualified… I was never very academic being able to learn things very quickly for myself but switching off the moment a professor starts a lecture. My &lt;a href=&quot;https://en.wikipedia.org/wiki/Characteristics_of_dyslexia&quot;&gt;dyslexia&lt;/a&gt; had a role to play in that, and besides, I didn’t have a UNIX beard.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/unix-beard.jpg&quot; alt=&quot;UNIX Beard&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Unix Beard&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;A year or two later the small company I was working for had cash flow issues and as I was the only developer working full time so I was sacrificed to the financial gods in hope of helping keep the company buoyant. Rob asked me to come to work at Mozilla again and I thought “I have been hacking since I was a kid so why the heck not?” Six months later and a number of rejected job offers later I started work with Mozilla.&lt;/p&gt;

&lt;p&gt;What a fantastic choice it was… Mozilla is by far the most awesome company in the world, no other company has quite the philosophy about openness as I do and to my astonishment everybody there has the same attitude.&lt;/p&gt;

&lt;p&gt;There are at least a gazillion reasons why I love working for Mozilla. I could list hundreds but if I had to pick a few.&lt;/p&gt;

&lt;h2 id=&quot;positives&quot;&gt;Positives&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;There are some people with Unix beards but they are not academic in the way I had feared. Some academics have an encyclopaedic knowledge of memorized facts and really struggle to think for themselves… well, to think outside the box. It turns out that the people here are some of the most creative and intelligent people that I have met in my life.&lt;/li&gt;
  &lt;li&gt;I really like the fact that Mozilla’s Mission Statement is something that they believe in and live by. There are too many companies that say one thing and do another… not Mozilla.&lt;/li&gt;
  &lt;li&gt;The people I work with truly are the cream of the crop. They are motivated and highly determined to make the Internet a better place. Everything they do every day helps them make it so. They are super smart and always happy to help anybody that has problems.&lt;/li&gt;
  &lt;li&gt;Although each team works on separate parts of the browser we are free to fix problems as we find them. If I find a part of the browser that is not behaving properly then I can fix it without upsetting anybody, everybody is very flexible.&lt;/li&gt;
  &lt;li&gt;In the last year the number of Mozilla employees has increased dramatically which has resulted in an incredible increase in creativity and output. It is incredibly humbling to be part of it… a day never goes by when I don’t learn something important.&lt;/li&gt;
  &lt;li&gt;The culture at Mozilla is amazing. Before I started working here I didn’t really know anybody that thought the same way about open source as I do. Now I know hundreds of people that have the same drive and determination when it comes to openness as I do.&lt;/li&gt;
  &lt;li&gt;Mozilla have a unique position in the browser market. They don’t need to spy on you or buy advertising and tracking companies as they are not in the advertising market. In fact, we would love to prevent the gathering of user’s browsing activities. Mozilla have no secret agenda and live by &lt;a href=&quot;https://www.mozilla.org/about/mission.html&quot;&gt;their mission statement&lt;/a&gt; - to make the internet a better place.&lt;/li&gt;
  &lt;li&gt;You know that guy at your company that you don’t like? Mozilla doesn’t have anyone like that! Seriously, I have never met a Mozilla employee that I don’t like.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;negatives&quot;&gt;Negatives&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;Because I work from home I sometimes don’t shower until late afternoon.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;That is about it for negatives, there are not many places I have worked where I can say that!&lt;/p&gt;
</description>
        <pubDate>Fri, 03 Aug 2012 09:13:00 +0100</pubDate>
        <link>http://localhost:4000/what-is-it-like-to-work-as-an-engineer-at-mozilla/</link>
        <guid isPermaLink="true">http://localhost:4000/what-is-it-like-to-work-as-an-engineer-at-mozilla/</guid>
      </item>
    
      <item>
        <title>What is SOPA and why should you care?</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;I have received a flood of emails today from people asking about what SOPA is and was surprised when I looked online and didn’t see any places that explains why SOPA would be a very bad thing. The idea behind SOPA is to stop online piracy and this is a good thing but there are some very, very serious consequences meaning the end of the internet as you know it.&lt;/p&gt;

&lt;h2 id=&quot;things-that-break-sopas-rules&quot;&gt;Things that break SOPA’s rules&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Any site that allows users type or upload stuff could be taken down if a user types or uploads the wrong thing.&lt;/li&gt;
  &lt;li&gt;Uploading home movies with TV, music, computer game or even a physical DVD visible in the background… you singing a song would not be allowed. In fact, if a cereal box is in the background it would be against the rules.&lt;/li&gt;
  &lt;li&gt;A picture of a famous person (could even be a poster on a wall that is part of some photo or video) would also be a reason to take down a site.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Any site breaking these rules would be taken down.&lt;/p&gt;

&lt;h2 id=&quot;the-effect-that-this-would-have&quot;&gt;The effect that this would have&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Site owners will not only be responsible for their own comments and pictures but they will become responsible for comments and pictures that users upload in their comments. This means that every site owner will need to review every users comments, pictures, videos, etc. to ensure that they do not break any rules.&lt;/li&gt;
  &lt;li&gt;Facebook, YouTube, Wikipedia, blogs etc. could all become a thing of the past as e.g. Twitter cannot be expected to review over 10,000 comments per minute and YouTube cannot be expected to check 8 years of content per day to see if they break any rules.&lt;/li&gt;
  &lt;li&gt;Book reviews, music reviews etc. would become a thing of the past as having one of those things on your site would be against the rules.&lt;/li&gt;
  &lt;li&gt;There would be almost no cool new sites and the sites that you know and love would be taken down.&lt;/li&gt;
  &lt;li&gt;Basically any site that you can imagine that allows you to upload or type stuff would be taken down!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Khan Academy have done a great job of explaining the details in this video:&lt;/p&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/OjAb5zPqAlg?fs=1&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Of course there are more side effects but even the small amount of information above should help you see how huge an issue this is. If you live in the USA then you can sign a petition to stop this &lt;a href=&quot;http://sopastrike.com/modal/strike-modal/index.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
</description>
        <pubDate>Wed, 18 Jan 2012 23:10:00 +0000</pubDate>
        <link>http://localhost:4000/what-is-sopa-and-why-should-you-care/</link>
        <guid isPermaLink="true">http://localhost:4000/what-is-sopa-and-why-should-you-care/</guid>
      </item>
    
      <item>
        <title>How Browsers Work</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/safari-firefox-and-chrome-icons.jpg&quot; alt=&quot;Safari Firefox and Chrome Icons&quot; /&gt;&lt;/p&gt;

&lt;/figure&gt;

&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#preface&quot; id=&quot;markdown-toc-preface&quot;&gt;Preface&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#introduction&quot; id=&quot;markdown-toc-introduction&quot;&gt;Introduction&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#the-browsers-we-will-talk-about&quot; id=&quot;markdown-toc-the-browsers-we-will-talk-about&quot;&gt;The Browsers We Will Talk About&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-browsers-main-functionality&quot; id=&quot;markdown-toc-the-browsers-main-functionality&quot;&gt;The Browser’s Main Functionality&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-browsers-high-level-structure&quot; id=&quot;markdown-toc-the-browsers-high-level-structure&quot;&gt;The Browser’s High Level Structure&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#communication-between-the-components&quot; id=&quot;markdown-toc-communication-between-the-components&quot;&gt;Communication Between the Components&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#the-rendering-engine&quot; id=&quot;markdown-toc-the-rendering-engine&quot;&gt;The Rendering Engine&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#rendering-engines&quot; id=&quot;markdown-toc-rendering-engines&quot;&gt;Rendering Engines&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-main-flow&quot; id=&quot;markdown-toc-the-main-flow&quot;&gt;The Main Flow&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#main-flow-examples&quot; id=&quot;markdown-toc-main-flow-examples&quot;&gt;Main Flow Examples&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#parsing-and-dom-tree-construction&quot; id=&quot;markdown-toc-parsing-and-dom-tree-construction&quot;&gt;Parsing and DOM Tree Construction&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#parsing---general&quot; id=&quot;markdown-toc-parsing---general&quot;&gt;Parsing - General&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#grammars&quot; id=&quot;markdown-toc-grammars&quot;&gt;Grammars&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#parser---lexer-combination&quot; id=&quot;markdown-toc-parser---lexer-combination&quot;&gt;Parser - Lexer Combination&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#translation&quot; id=&quot;markdown-toc-translation&quot;&gt;Translation&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#parsing-example&quot; id=&quot;markdown-toc-parsing-example&quot;&gt;Parsing Example&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#formal-definitions-for-vocabulary-and-syntax&quot; id=&quot;markdown-toc-formal-definitions-for-vocabulary-and-syntax&quot;&gt;Formal Definitions for Vocabulary and Syntax&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#types-of-parsers&quot; id=&quot;markdown-toc-types-of-parsers&quot;&gt;Types of Parsers&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#generating-parsers-automatically&quot; id=&quot;markdown-toc-generating-parsers-automatically&quot;&gt;Generating Parsers Automatically&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#html-parser&quot; id=&quot;markdown-toc-html-parser&quot;&gt;HTML Parser&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#the-html-grammar-definition&quot; id=&quot;markdown-toc-the-html-grammar-definition&quot;&gt;The HTML Grammar Definition&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#not-a-context-free-grammar&quot; id=&quot;markdown-toc-not-a-context-free-grammar&quot;&gt;Not a Context Free Grammar&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#html-dtd&quot; id=&quot;markdown-toc-html-dtd&quot;&gt;HTML DTD&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#dom&quot; id=&quot;markdown-toc-dom&quot;&gt;DOM&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#the-parsing-algorithm&quot; id=&quot;markdown-toc-the-parsing-algorithm&quot;&gt;The Parsing Algorithm&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#the-tokenization-algorithm&quot; id=&quot;markdown-toc-the-tokenization-algorithm&quot;&gt;The Tokenization Algorithm&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#tree-construction-algorithm&quot; id=&quot;markdown-toc-tree-construction-algorithm&quot;&gt;Tree Construction Algorithm&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#actions-when-the-parsing-is-finished&quot; id=&quot;markdown-toc-actions-when-the-parsing-is-finished&quot;&gt;Actions When the Parsing is Finished&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#browsers-error-tolerance&quot; id=&quot;markdown-toc-browsers-error-tolerance&quot;&gt;Browsers Error Tolerance&lt;/a&gt;                &lt;ul&gt;
                  &lt;li&gt;&lt;a href=&quot;#br-instead-of-br&quot; id=&quot;markdown-toc-br-instead-of-br&quot;&gt;&amp;lt;/br&amp;gt; Instead of &amp;lt;br&amp;gt;&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;#a-stray-table&quot; id=&quot;markdown-toc-a-stray-table&quot;&gt;A Stray Table&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;#nested-form-elements&quot; id=&quot;markdown-toc-nested-form-elements&quot;&gt;Nested Form Elements&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;#a-too-deep-tag-hierarchy&quot; id=&quot;markdown-toc-a-too-deep-tag-hierarchy&quot;&gt;A Too Deep Tag Hierarchy&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;#misplaced-html-or-body-end-tags&quot; id=&quot;markdown-toc-misplaced-html-or-body-end-tags&quot;&gt;Misplaced html or body End Tags&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#css-parsing&quot; id=&quot;markdown-toc-css-parsing&quot;&gt;CSS Parsing&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#webkit-css-parser&quot; id=&quot;markdown-toc-webkit-css-parser&quot;&gt;Webkit CSS Parser&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#parsing-scripts&quot; id=&quot;markdown-toc-parsing-scripts&quot;&gt;Parsing Scripts&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#the-order-of-processing-scripts-and-stylesheets&quot; id=&quot;markdown-toc-the-order-of-processing-scripts-and-stylesheets&quot;&gt;The Order of Processing Scripts and Stylesheets&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#scripts&quot; id=&quot;markdown-toc-scripts&quot;&gt;Scripts&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#speculative-parsing&quot; id=&quot;markdown-toc-speculative-parsing&quot;&gt;Speculative Parsing&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#stylesheets&quot; id=&quot;markdown-toc-stylesheets&quot;&gt;Stylesheets&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#render-tree-construction&quot; id=&quot;markdown-toc-render-tree-construction&quot;&gt;Render Tree Construction&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#the-render-tree-relation-to-the-dom-tree&quot; id=&quot;markdown-toc-the-render-tree-relation-to-the-dom-tree&quot;&gt;The Render Tree Relation to the DOM Tree&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#the-flow-of-constructing-the-tree&quot; id=&quot;markdown-toc-the-flow-of-constructing-the-tree&quot;&gt;The Flow of Constructing the Tree&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#style-computation&quot; id=&quot;markdown-toc-style-computation&quot;&gt;Style Computation&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#sharing-style-data&quot; id=&quot;markdown-toc-sharing-style-data&quot;&gt;Sharing Style Data&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#firefox-rule-tree&quot; id=&quot;markdown-toc-firefox-rule-tree&quot;&gt;Firefox Rule Tree&lt;/a&gt;                &lt;ul&gt;
                  &lt;li&gt;&lt;a href=&quot;#division-into-structs&quot; id=&quot;markdown-toc-division-into-structs&quot;&gt;Division Into Structs&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;#computing-the-style-contexts-using-the-rule-tree&quot; id=&quot;markdown-toc-computing-the-style-contexts-using-the-rule-tree&quot;&gt;Computing the Style Contexts Using the Rule Tree&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#manipulating-the-rules-for-an-easy-match&quot; id=&quot;markdown-toc-manipulating-the-rules-for-an-easy-match&quot;&gt;Manipulating the Rules for an Easy Match&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#applying-the-rules-in-the-correct-cascade-order&quot; id=&quot;markdown-toc-applying-the-rules-in-the-correct-cascade-order&quot;&gt;Applying the Rules in the Correct Cascade Order&lt;/a&gt;                &lt;ul&gt;
                  &lt;li&gt;&lt;a href=&quot;#stylesheet-cascade-order&quot; id=&quot;markdown-toc-stylesheet-cascade-order&quot;&gt;Stylesheet Cascade Order&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;#specificity&quot; id=&quot;markdown-toc-specificity&quot;&gt;Specificity&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;#sorting-the-rules&quot; id=&quot;markdown-toc-sorting-the-rules&quot;&gt;Sorting the rules&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#gradual-process&quot; id=&quot;markdown-toc-gradual-process&quot;&gt;Gradual Process&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#layout&quot; id=&quot;markdown-toc-layout&quot;&gt;Layout&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#dirty-bit-system&quot; id=&quot;markdown-toc-dirty-bit-system&quot;&gt;Dirty Bit System&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#global-and-incremental-layout&quot; id=&quot;markdown-toc-global-and-incremental-layout&quot;&gt;Global and Incremental Layout&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#asynchronous-and-synchronous-layout&quot; id=&quot;markdown-toc-asynchronous-and-synchronous-layout&quot;&gt;Asynchronous and Synchronous Layout&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#optimizations&quot; id=&quot;markdown-toc-optimizations&quot;&gt;Optimizations&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#the-layout-process&quot; id=&quot;markdown-toc-the-layout-process&quot;&gt;The Layout Process&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#width-calculation&quot; id=&quot;markdown-toc-width-calculation&quot;&gt;Width Calculation&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#line-breaking&quot; id=&quot;markdown-toc-line-breaking&quot;&gt;Line Breaking&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#painting&quot; id=&quot;markdown-toc-painting&quot;&gt;Painting&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#global-and-incremental&quot; id=&quot;markdown-toc-global-and-incremental&quot;&gt;Global and Incremental&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#the-painting-order&quot; id=&quot;markdown-toc-the-painting-order&quot;&gt;The Painting Order&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#firefox-display-list&quot; id=&quot;markdown-toc-firefox-display-list&quot;&gt;Firefox Display List&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#webkit-rectangle-storage&quot; id=&quot;markdown-toc-webkit-rectangle-storage&quot;&gt;Webkit Rectangle Storage&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#dynamic-changes&quot; id=&quot;markdown-toc-dynamic-changes&quot;&gt;Dynamic Changes&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-rendering-engines-threads&quot; id=&quot;markdown-toc-the-rendering-engines-threads&quot;&gt;The Rendering Engine’s Threads&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#event-loop&quot; id=&quot;markdown-toc-event-loop&quot;&gt;Event Loop&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#css2-visual-model&quot; id=&quot;markdown-toc-css2-visual-model&quot;&gt;CSS2 Visual Model&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#the-canvas&quot; id=&quot;markdown-toc-the-canvas&quot;&gt;The Canvas&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#css-box-model&quot; id=&quot;markdown-toc-css-box-model&quot;&gt;CSS Box Model&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#positioning-scheme&quot; id=&quot;markdown-toc-positioning-scheme&quot;&gt;Positioning Scheme&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#box-types&quot; id=&quot;markdown-toc-box-types&quot;&gt;Box Types&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#positioning&quot; id=&quot;markdown-toc-positioning&quot;&gt;Positioning&lt;/a&gt;            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#relative&quot; id=&quot;markdown-toc-relative&quot;&gt;Relative&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#floats&quot; id=&quot;markdown-toc-floats&quot;&gt;Floats&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#absolute-and-fixed&quot; id=&quot;markdown-toc-absolute-and-fixed&quot;&gt;Absolute and Fixed&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#layered-representation&quot; id=&quot;markdown-toc-layered-representation&quot;&gt;Layered Representation&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#resources&quot; id=&quot;markdown-toc-resources&quot;&gt;Resources&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;preface&quot;&gt;Preface&lt;/h2&gt;

&lt;p&gt;This comprehensive primer on the internal operations of WebKit and Gecko is the result of much research done by Israeli developer Tali Garsiel. Over a few years, she reviewed all the published data about browser internals and spent a lot of time reading web browser source code. She wrote:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;In the years of IE 90% dominance there was nothing much to do but regard the browser as a “black box”, but now, with open source browsers having &lt;a href=&quot;http://techcrunch.com/2011/08/01/open-web-browsers/&quot;&gt;more than half of the usage share&lt;/a&gt;, it’s a good time to take a peek under the engine’s hood and see what’s inside a web browser. Well, what’s inside are millions of C++ lines…&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Tali published her research on &lt;a href=&quot;http://taligarsiel.com/&quot;&gt;her site&lt;/a&gt;, but we knew it deserved a larger audience, so we’ve cleaned it up and republished it here. As a web developer, &lt;strong&gt;learning the internals of browser operations helps you make better decisions and know the justifications behind development best practices&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;While this is a rather lengthy document, we recommend you spend some time digging in; we guarantee you’ll be glad you did.&lt;/p&gt;

&lt;h2 id=&quot;introduction&quot;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;Web browsers are probably the most widely used software. In this primer, I will explain how they work behind the scenes. We will see what happens when you type google.com in the address bar until you see the Google page on the browser screen.&lt;/p&gt;

&lt;h3 id=&quot;the-browsers-we-will-talk-about&quot;&gt;The Browsers We Will Talk About&lt;/h3&gt;

&lt;p&gt;There are five major browsers used today - Internet Explorer, Firefox, Safari, Chrome and Opera. I will give examples from the open source browsers - Firefox, Chrome and Safari, which is partly open source. According to the &lt;a href=&quot;http://www.w3schools.com/browsers/browsers_stats.asp&quot;&gt;W3C browser statistics&lt;/a&gt;, currently (September 2011), the usage share of Firefox, Safari, Chrome and Opera is almost 80%. So nowdays open source browsers are a substantial part of the browser business.&lt;/p&gt;

&lt;h3 id=&quot;the-browsers-main-functionality&quot;&gt;The Browser’s Main Functionality&lt;/h3&gt;

&lt;p&gt;The browser main functionality is to present the web resource you choose, by requesting it from the server and displaying it on the browser window. The resource format is usually HTML but can also be PDF, image etc. The location of the resource is specified by the user using a URI (Uniform Resource Identifier). The way the browser interprets and displays HTML files is specified in the HTML and CSS specifications &lt;sup id=&quot;fnref:css21&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:css21&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;. These specifications are maintained by the &lt;a id=&quot;w3c&quot;&gt;&lt;/a&gt;W3C (World Wide Web Consortium) organization, which is the standards organization for the web.&lt;/p&gt;

&lt;p&gt;For years browsers conformed to only a part of the specifications and developed their own extensions. That caused serious compatibility issues for web authors. Today most of the browsers more or less conform to the specifications. Browser’s user interfaces have a lot in common with each other. Among the common user interface elements are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Address bar for inserting the URI&lt;/li&gt;
  &lt;li&gt;Back and forward buttons&lt;/li&gt;
  &lt;li&gt;Bookmarking options&lt;/li&gt;
  &lt;li&gt;Refresh and stop buttons for refreshing and stopping the loading of current documents&lt;/li&gt;
  &lt;li&gt;Home button that gets you to your home page&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Strangely enough, the browser’s user interface is not specified in any formal specification, it is just good practices shaped over years of experience and by browsers imitating one another. The HTML5 specification doesn’t define UI elements a browser must have, but lists some common elements. Among those are the address bar, status bar and toolbar. There are, of course, features unique to a specific browser such as Firefox download manager.&lt;/p&gt;

&lt;h3 id=&quot;the-browsers-high-level-structure&quot;&gt;The Browser’s High Level Structure&lt;/h3&gt;

&lt;p&gt;The browser’s main components are &lt;sup id=&quot;fnref:refarch&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:refarch&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The user interface - this includes the address bar, back/forward button, bookmarking menu etc. Every part of the browser display except the main window where you see the requested page.&lt;/li&gt;
  &lt;li&gt;The browser engine - the interface for querying and manipulating the rendering engine.&lt;/li&gt;
  &lt;li&gt;The rendering engine - responsible for displaying the requested content. For example if the requested content is HTML, it is responsible for parsing the HTML and CSS and displaying the parsed content on the screen.&lt;/li&gt;
  &lt;li&gt;Networking - used for network calls, like HTTP requests &lt;sup id=&quot;fnref:lifehttprequest&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:lifehttprequest&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; . It has platform independent interface and underneath implementations for each platform.&lt;/li&gt;
  &lt;li&gt;UI backend - used for drawing basic widgets like combo boxes and windows. It exposes a generic interface that is not platform specific. Underneath it uses the operating system user interface methods.&lt;/li&gt;
  &lt;li&gt;JavaScript interpreter. Used to parse and execute the JavaScript code.&lt;/li&gt;
  &lt;li&gt;Data storage. This is a persistence layer. The browser needs to save some data to the hard disk, e.g cookies. The HTML5 specification includes ‘web database’ which is a complete (although light) database in the browser.&lt;/li&gt;
&lt;/ol&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/browser-main-components.png&quot; alt=&quot;Browser Main Components&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 1: Browser Main Components&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;It is important to note that Chrome, unlike most browsers, holds multiple instances of the rendering engine - one for each tab. Each tab is a separate process.&lt;/p&gt;

&lt;h3 id=&quot;communication-between-the-components&quot;&gt;Communication Between the Components&lt;/h3&gt;

&lt;p&gt;Both Firefox and Chrome developed a special communication infrastructures.&lt;/p&gt;

&lt;h2 id=&quot;the-rendering-engine&quot;&gt;The Rendering Engine&lt;/h2&gt;

&lt;p&gt;The responsibility of the rendering engine is well… rendering, that is display of the requested contents on the browser screen. By default the rendering engine can display HTML and XML documents and images. It can display other types through plug-ins (browser extensions). An example is displaying a PDF using a PDF viewer plug-in. Here we will focus on the main use case - displaying HTML and images that are formatted using CSS.&lt;/p&gt;

&lt;h3 id=&quot;rendering-engines&quot;&gt;Rendering Engines&lt;/h3&gt;

&lt;p&gt;Our reference browsers - Firefox, Chrome and Safari are built upon two rendering engines. Firefox &lt;sup id=&quot;fnref:buildfirefox&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:buildfirefox&quot; class=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; uses Gecko - a “home made” Mozilla rendering engine. Both Safari and Chrome use Webkit. Webkit &lt;sup id=&quot;fnref:buildwebkit&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:buildwebkit&quot; class=&quot;footnote&quot;&gt;5&lt;/a&gt;&lt;/sup&gt; is an open source rendering engine which started as an engine for the Linux platform and was modified by Apple to support Mac and Windows. See &lt;a href=&quot;http://webkit.org/&quot;&gt;http://webkit.org/&lt;/a&gt; for more details.&lt;/p&gt;

&lt;h3 id=&quot;the-main-flow&quot;&gt;The Main Flow&lt;/h3&gt;

&lt;p&gt;The rendering engine will start getting the contents of the requested document from the networking layer. This will usually be done in 8K chunks. After that this is the basic flow of the rendering engine:&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/rendering-engine-basic-flow.png&quot; alt=&quot;Rendering engine basic flow&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 2: Rendering engine basic flow&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The rendering engine will start parsing the HTML document and turn the tags to &lt;a href=&quot;#DOM&quot;&gt;DOM&lt;/a&gt; nodes in a tree called the “content tree”.&lt;/p&gt;

&lt;p&gt;It will parse the style data, both in external CSS files and in style elements. The styling information together with visual instructions in the HTML will be used to create another tree - the &lt;a href=&quot;#render-tree-construction&quot;&gt;render tree&lt;/a&gt;. The render tree contains rectangles with visual attributes like color and dimensions. The rectangles are in the right order to be displayed on the screen. After the construction of the render tree it goes through a “&lt;a href=&quot;#layout&quot;&gt;layout&lt;/a&gt;” process. This means giving each node the exact coordinates where it should appear on the screen.&lt;/p&gt;

&lt;p&gt;The next stage is &lt;a href=&quot;#Painting&quot;&gt;painting&lt;/a&gt;. The render tree will be traversed and each node will be painted using the UI backend layer. It’s important to understand that this is a gradual process. For better user experience, the rendering engine will try to display contents on the screen as soon as possible. It will not wait until all HTML is parsed before starting to build and layout the render tree. Parts of the content will be parsed and displayed, while the process continues with the rest of the contents that keeps coming from the network.&lt;/p&gt;

&lt;h3 id=&quot;main-flow-examples&quot;&gt;Main Flow Examples&lt;/h3&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/webkit-main-flow.png&quot; alt=&quot;Webkit main flow&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 3: Webkit main flow&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/mozilla.jpg&quot; alt=&quot;Mozilla main flow&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 4: Mozilla's Gecko rendering engine main flow&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;From figures 3 and 4 you can see that although Webkit and Gecko &lt;sup id=&quot;fnref:geckooverview&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:geckooverview&quot; class=&quot;footnote&quot;&gt;6&lt;/a&gt;&lt;/sup&gt; use slightly different terminology, the flow is basically the same. Gecko calls the tree of visually formatted elements the Frame tree. Each element is a frame. Webkit uses the term “Render Tree” and it consists of “Render Objects”. Webkit uses the term “layout” for the placing of elements, while Gecko calls it “Reflow”. “Attachment” is Webkit’s term for connecting DOM nodes and visual information to create the render tree. A minor non semantic difference is that Gecko has an extra layer between the HTML and the DOM tree. It is called the “content sink” and is a factory for making DOM elements. We will talk about each part of the flow:&lt;/p&gt;

&lt;h3 id=&quot;parsing-and-dom-tree-construction&quot;&gt;Parsing and DOM Tree Construction&lt;/h3&gt;

&lt;h4 id=&quot;parsing---general&quot;&gt;Parsing - General&lt;/h4&gt;

&lt;p&gt;Since parsing is a very significant process within the rendering engine, we will go into it a little more deeply. Let’s begin with a little introduction about parsing &lt;sup id=&quot;fnref:dragonbook&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:dragonbook&quot; class=&quot;footnote&quot;&gt;7&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;Parsing a document means translating it to some structure that makes sense - something the code can understand and use. The result of parsing is usually a tree of nodes that represent the structure of the document. It is called a parse tree or a syntax tree.&lt;/p&gt;

&lt;p&gt;For example - parsing the expression “2 + 3 - 1” could return this tree:&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/mathematical-expression-tree-node.png&quot; alt=&quot;Mathematical expression node tree&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 5: Mathematical expression node tree&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h5 id=&quot;grammars&quot;&gt;Grammars&lt;/h5&gt;

&lt;p&gt;Parsing is based on the syntax rules the document obeys - the language or format it was written in. Every format you can parse must have deterministic grammar consisting of vocabulary and syntax rules. It is called a &lt;a href=&quot;#context_free_grammar&quot;&gt;context free grammar&lt;/a&gt;. Human languages are not such consistent languages and therefore cannot be parsed with conventional parsing techniques.&lt;/p&gt;

&lt;h5 id=&quot;parser---lexer-combination&quot;&gt;Parser - Lexer Combination&lt;/h5&gt;

&lt;p&gt;Parsing can be separated into two sub processes - lexical analysis and syntax analysis. Lexical analysis is the process of breaking the input into tokens. Tokens are the language vocabulary - the collection of valid building blocks. In human language it will consist of all the words that appear in the dictionary for that language. Syntax analysis is the applying of the language syntax rules.&lt;/p&gt;

&lt;p&gt;Parsers usually divide the work between two components - the &lt;strong&gt;lexer **(sometimes called tokenizer) that is responsible for breaking the input into valid tokens, and the **parser&lt;/strong&gt; that is responsible for constructing the parse tree by analyzing the document structure according to the language syntax rules. The lexer knows how to strip irrelevant characters like white spaces and line breaks.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/from-source-document-to-parse-trees.png&quot; alt=&quot;From source document to parse trees&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 6: From source document to parse trees&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The parsing process is iterative. The parser will usually ask the lexer for a new token and try to match the token with one of the syntax rules. If a rule is matched, a node corresponding to the token will be added to the parse tree and the parser will ask for another token. If no rule matches, the parser will store the token internally, and keep asking for tokens until a rule matching all the internally stored tokens is found. If no rule is found then the parser will raise an exception. This means the document was not valid and contained syntax errors.&lt;/p&gt;

&lt;h5 id=&quot;translation&quot;&gt;Translation&lt;/h5&gt;

&lt;p&gt;Many times the parse tree is not the final product. Parsing is often used in translation - transforming the input document to another format. One example is compilation. The compiler that compiles a program into machine code first parses it into a parse tree and then translates the tree into a machine code document.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/compilation-flow.png&quot; alt=&quot;Compilation flow&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 7: Compilation flow&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h5 id=&quot;parsing-example&quot;&gt;Parsing Example&lt;/h5&gt;

&lt;p&gt;In figure 5 we built a parse tree from a mathematical expression. Let’s try to define a simple mathematical language and see the parse process. Vocabulary: Our language can include integers, plus signs and minus signs. Syntax:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The language syntax building blocks are expressions, terms and operations.&lt;/li&gt;
  &lt;li&gt;Our language can include any number of expressions.&lt;/li&gt;
  &lt;li&gt;A expression is defined as a “term” followed by an “operation” followed by another term&lt;/li&gt;
  &lt;li&gt;An operation is a plus token or a minus token&lt;/li&gt;
  &lt;li&gt;A term is an integer token or an expression&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Let’s analyze the input “2 + 3 - 1”. The first substring that matches a rule is “2”, according to rule #5 it is a term. The second match is “2 + 3” this matches the second rule - a term followed by an operation followed by another term. The next match will only be hit at the end of the input. “2 + 3 - 1” is an expression because we already know that “2 + 3” is a term so we have a term followed by an operation followed by another term. “2 + +” will not match any rule and therefore is an invalid input.&lt;/p&gt;

&lt;h5 id=&quot;formal-definitions-for-vocabulary-and-syntax&quot;&gt;Formal Definitions for Vocabulary and Syntax&lt;/h5&gt;

&lt;p&gt;Vocabulary is usually expressed by &lt;a href=&quot;http://www.regular-expressions.info/&quot;&gt;regular expressions&lt;/a&gt;. For example our language will be defined as:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;INTEGER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;PLUS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;MINUS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Example of our language in BNF&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;As you see, integers are defined by a regular expression. Syntax is usually defined in a format called &lt;a href=&quot;http://en.wikipedia.org/wiki/Backus%E2%80%93Naur_Form&quot;&gt;BNF&lt;/a&gt;. Our language will be defined as:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;expression&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;term&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;operation&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;term&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;operation&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PLUS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MINUS&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;term&lt;/span&gt;       &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;INTEGER&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;expression&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Language definition in BNF&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;We said that a language can be parsed by regular parsers if its grammar is a &lt;a id=&quot;context_free_grammar&quot;&gt;&lt;/a&gt;context free grammar. An intuitive definition of a context free grammar is a grammar that can be entirely expressed in BNF. For a formal definition see &lt;a href=&quot;http://en.wikipedia.org/wiki/Context-free_grammar&quot;&gt;http://en.wikipedia.org/wiki/Context-free_grammar&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&quot;types-of-parsers&quot;&gt;Types of Parsers&lt;/h5&gt;

&lt;p&gt;There are two basic types of parsers - top down parsers and bottom up parsers. An intuitive explanation is that top down parsers see the high level structure of the syntax and try to match one of them. Bottom up parsers start with the input and gradually transform it into the syntax rules, starting from the low level rules until high level rules are met. Let’s see how the two types of parsers will parse our example:&lt;/p&gt;

&lt;p&gt;A top down parser starts from the higher level rule - it identifies “2 + 3” as an expression. It will then identify “2 + 3 - 1” as an expression (the process of identifying the expression evolves matching the other rules, but the start point is the highest level rule).&lt;/p&gt;

&lt;p&gt;The bottom up parser will scan the input until a rule is matched it will then replace the matching input with the rule. This will go on until the end of the input. The partly matched expression is placed on the parsers stack.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Stack&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Input&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2 + 3 - 1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Term&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;+ 3 - 1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Term Operation&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3 - 1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Expression&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;- 1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Expression operation&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Expression&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This type of bottom up parser is called a shift reduce parser, because the input is shifted to the right (imagine a pointer pointing first at the input start and moving to the right) and is gradually reduced to syntax rules.&lt;/p&gt;

&lt;h5 id=&quot;generating-parsers-automatically&quot;&gt;Generating Parsers Automatically&lt;/h5&gt;

&lt;p&gt;There are tools that can generate a parser for you. They are called parser generators. You feed them with the grammar of your language - its vocabulary and syntax rules and they generate a working parser. Creating a parser requires a deep understanding of parsing and its not easy to create an optimized parser by hand, so parser generators can be very useful.&lt;/p&gt;

&lt;p&gt;Webkit uses two well known parser generators - Flex for creating a lexer and Bison for creating a parser (you might run into them with the names Lex and Yacc). Flex input is a file containing regular expression definitions of the tokens. Bison’s input is the language syntax rules in BNF format.&lt;/p&gt;

&lt;h4 id=&quot;html-parser&quot;&gt;HTML Parser&lt;/h4&gt;

&lt;p&gt;The job of the HTML parser is to parse the HTML markup into a parse tree.&lt;/p&gt;

&lt;h5 id=&quot;the-html-grammar-definition&quot;&gt;The HTML Grammar Definition&lt;/h5&gt;

&lt;p&gt;The vocabulary and syntax of HTML are defined in &lt;a href=&quot;#w3c&quot;&gt;specifications&lt;/a&gt; created by the w3c organization. The current version is HTML4 and work on HTML5 is in progress.&lt;/p&gt;

&lt;h5 id=&quot;not-a-context-free-grammar&quot;&gt;Not a Context Free Grammar&lt;/h5&gt;

&lt;p&gt;As we have seen in the parsing introduction, grammar syntax can be defined formally using formats like BNF. Unfortunately not all of the conventional parser topics apply to HTML (I didn’t bring them up just for fun - they will be used in parsing CSS and JavaScript). HTML cannot easily be defined by a context free grammar that parsers need.&lt;/p&gt;

&lt;p&gt;There is a formal format for defining HTML - DTD (Document Type Definition) - but it is not a context free grammar. This appears strange at first site - HTML is rather close to XML. There are lots of available XML parsers. There is an XML variation of HTML - XHTML - so what’s the big difference? The difference is that HTML approach is more “forgiving”, it lets you omit certain tags which are added implicitly, sometimes omit the start or end of tags etc.&lt;/p&gt;

&lt;p&gt;On the whole it’s a “soft” syntax, as opposed to XML’s stiff and demanding syntax. Apparently this seemingly small difference makes a world of a difference. On one hand this is the main reason why HTML is so popular - it forgives your mistakes and makes life easy for the web author. On the other hand, it makes it difficult to write a format grammar. So to summarize - HTML cannot be parsed easily, not by conventional parsers since its grammar is not a context free grammar, and not by XML parsers.&lt;/p&gt;

&lt;h5 id=&quot;html-dtd&quot;&gt;HTML DTD&lt;/h5&gt;

&lt;p&gt;HTML definition is in a DTD format. This format is used to define languages of the &lt;a href=&quot;http://en.wikipedia.org/wiki/Standard_Generalized_Markup_Language&quot;&gt;SGML&lt;/a&gt; family. The format contains definitions for all allowed elements, their attributes and hierarchy. As we saw earlier, the HTML DTD doesn’t form a context free grammar. There are a few variations of the DTD. The strict mode conforms solely to the specifications but other modes contain support for markup used by browsers in the past. The purpose is backwards compatibility with older content. The current strict DTD is at &lt;a href=&quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;http://www.w3.org/TR/html4/strict.dtd&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&quot;dom&quot;&gt;DOM&lt;/h5&gt;

&lt;p&gt;The output tree - the parse tree is a tree of DOM element and attribute nodes. DOM is short for Document Object Model. It is the object presentation of the HTML document and the interface of HTML elements to the outside world like JavaScript. The root of the tree is the “&lt;a href=&quot;http://www.w3.org/TR/1998/REC-DOM-Level-1-19981001/level-one-core.html#i-Document&quot;&gt;document&lt;/a&gt;” object.&lt;/p&gt;

&lt;p&gt;The DOM has an almost one to one relation to the markup. Example, this markup:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;
      Hello World
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&amp;gt;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;img&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;example.png&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Example markup&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Would be translated to the following DOM tree:&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/dom-tree-of-the-example-markup.png&quot; alt=&quot;DOM tree of the example markup&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 8: DOM tree of the example markup&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Like HTML, DOM is specified by the w3c organizationm see &lt;a href=&quot;http://www.w3.org/DOM/DOMTR&quot;&gt;http://www.w3.org/DOM/DOMTR&lt;/a&gt;. It is a generic specification for manipulating documents. A specific module describes HTML specific elements. The HTML definitions can be found here: &lt;a href=&quot;http://www.w3.org/TR/2003/REC-DOM-Level-2-HTML-20030109/idl-definitions.html&quot;&gt;http://www.w3.org/TR/2003/REC-DOM-Level-2-HTML-20030109/idl-definitions.html&lt;/a&gt;. When we say the tree contains DOM nodes, we mean the tree is constructed of elements that implement one of the DOM interfaces. Browsers use concrete implementations that have other attributes used by the browser internally.&lt;/p&gt;

&lt;h5 id=&quot;the-parsing-algorithm&quot;&gt;The Parsing Algorithm&lt;/h5&gt;

&lt;p&gt;As we saw in the previous sections, HTML cannot be parsed using the regular top down or bottom up parsers. The reasons are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The forgiving nature of the language.&lt;/li&gt;
  &lt;li&gt;The fact that browsers have traditional error tolerance to support well known cases of invalid HTML.&lt;/li&gt;
  &lt;li&gt;The parsing process in reentrant. Usually the source doesn’t change during parsing, but in HTML, script tags containing “document.write” can add extra tokens, so the parsing process actually modifies the input.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Unable to use the regular parsing techniques, browsers create custom parsers for parsing HTML. The parsing algorithm is described in details by the HTML5 specification. The algorithm consists of two stages - tokenization and tree construction. Tokenization is the lexical analysis, parsing the input into tokens. Among HTML tokens are start tags, end tags, attribute names and attribute values. The tokenizer recognizes the token, gives it to the tree constructor and consumes the next character for recognizing the next token and so on until the end of the input.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/html-parsing-flow.png&quot; alt=&quot;HTML Parsing Flow&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 9: HTML Parsing Flow&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h5 id=&quot;the-tokenization-algorithm&quot;&gt;The Tokenization Algorithm&lt;/h5&gt;

&lt;p&gt;The algorithm’s output is an HTML token. The algorithm is expressed as a state machine. Each state consumes one or more characters of the input stream and updates the next state according to those characters. The decision is influenced by the current tokenization state and by the tree construction state. This means the same consumed character will yield different results for the correct next state, depending on the current state. The algorithm is too complex to bring fully, so let’s see a simple example that will help us understand the principal.&lt;/p&gt;

&lt;p&gt;Basic example - tokenizing the following HTML:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
    Hello world
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;The HTML to be tokenized&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;The initial state is the “Data state”. When the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;&lt;/code&gt; character is encountered, the state is changed to &lt;strong&gt;“Tag open state”&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;Consuming an “a-z” character causes creation of a “Start tag token”, the state is changed to &lt;strong&gt;“Tag name state”&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;We stay in this state until the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt;&lt;/code&gt; character is consumed. Each character is appended to the new token name. In our case the created token is an “html” token.&lt;/li&gt;
  &lt;li&gt;When the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt;&lt;/code&gt; tag is reached, the current token is emitted and the state changes back to the &lt;strong&gt;“Data state”&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;body&amp;gt;&lt;/code&gt; tag will be treated by the same steps. So far the “html” and “body” tags were emitted. We are now back at the &lt;strong&gt;“Data state”&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;Consuming the “H” character of “Hello world” will cause creation and emitting of a character token, this goes on until the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt;&lt;/code&gt; of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;body&amp;gt;&lt;/code&gt; is reached.&lt;/li&gt;
  &lt;li&gt;We will emit a character token for each character of “Hello world”. We are now back at the &lt;strong&gt;“Tag open state”&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;Consuming the next input “/” will cause creation of an “end tag token” and a move to the &lt;strong&gt;“Tag name state”&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;Again we stay in this state until we reach &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt;&lt;/code&gt;.Then the new tag token will be emitted and we go back to the &lt;strong&gt;“Data state”&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;html&amp;gt;&lt;/code&gt; input will be treated like the previous case.&lt;/li&gt;
&lt;/ol&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/tokenizing-the-example-input.png&quot; alt=&quot;Tokenizing the example input&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 10: Tokenizing the example input&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h5 id=&quot;tree-construction-algorithm&quot;&gt;Tree Construction Algorithm&lt;/h5&gt;

&lt;p&gt;When the parser is created the document object is created. During the tree construction stage the DOM tree with the document in its root will be modified and elements will be added to it. Each node emitted by the tokenizer will be processed by the tree constructor. For each token the specification defines which DOM element is relevant to it and will be created for this token. Except of adding the element to the DOM tree it is also added to a stack of open elements.&lt;/p&gt;

&lt;p&gt;This stack is used to correct nesting mismatches and unclosed tags. The algorithm is also described as a state machine. The states are called “insertion modes.” Let’s see the tree construction process for the example input:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
    Hello world
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Example input&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The input to the tree construction stage is a sequence of tokens from the tokenization stage:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The first mode is the &lt;strong&gt;“initial mode”&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;Receiving the html token will cause a move to the &lt;strong&gt;“before html”&lt;/strong&gt; mode and a reprocessing of the token in that mode.&lt;/li&gt;
  &lt;li&gt;This will cause a creation of the HTMLHtmlElement element and it will be appended to the root document object. The state will be changed to &lt;strong&gt;“before head.”&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;We receive the “body” token. An HTMLHeadElement will be created implicitly although we don’t have a “head” token and it will be added to the tree.&lt;/li&gt;
  &lt;li&gt;We now move to the &lt;strong&gt;“in head”&lt;/strong&gt; mode and then to &lt;strong&gt;“after head”&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;The body token is reprocessed, an HTMLBodyElement is created and inserted and the mode is transferred to &lt;strong&gt;“in body.”&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;The character tokens of the “Hello world” string are now received.&lt;/li&gt;
  &lt;li&gt;The first one will cause creation and insertion of a “Text” node and the other characters will be appended to that node.&lt;/li&gt;
  &lt;li&gt;The receiving of the body end token will cause a transfer to &lt;strong&gt;“after body”&lt;/strong&gt; mode.&lt;/li&gt;
  &lt;li&gt;We will now receive the html end tag which will move us to &lt;strong&gt;“after after body”&lt;/strong&gt; mode.&lt;/li&gt;
  &lt;li&gt;Receiving the end of file token will end the parsing.&lt;/li&gt;
&lt;/ol&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/tree-construction-of-example-html.gif&quot; alt=&quot;Tree construction of example HTML&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 11: Tree construction of example HTML&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h5 id=&quot;actions-when-the-parsing-is-finished&quot;&gt;Actions When the Parsing is Finished&lt;/h5&gt;

&lt;p&gt;At this stage the browser will mark the document as interactive and start parsing scripts that are in “deferred” mode - those who should be executed after the document is parsed. The document state will then be set to “complete” and a “load” event will be fired. You can see the full algorithms for tokenization and tree construction in HTML5 specification - &lt;a href=&quot;http://www.w3.org/TR/html5/syntax.html#html-parser&quot;&gt;http://www.w3.org/TR/html5/syntax.html#html-parser&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&quot;browsers-error-tolerance&quot;&gt;Browsers Error Tolerance&lt;/h5&gt;

&lt;p&gt;You never get an “Invalid Syntax” error on an HTML page. Browsers fix an invalid content and go on. Take this HTML for example:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;mytag&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/mytag&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    Really lousy HTML
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Terrible HTML&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;I must have violated about a million rules (“mytag” is not a standard tag, wrong nesting of the “p” and “div” elements and more) but the browser still shows it correctly and doesn’t complain. So a lot of the parser code is fixing the HTML author’s mistakes. The error handling is quite consistent in browsers but amazingly enough it’s not part of HTML current specification. Like bookmarking and back/forward buttons it’s just something that developed in browsers over the years.&lt;/p&gt;

&lt;p&gt;There are known invalid HTML constructs that repeat themselves in many sites and the browsers try to fix them in a conformant way with other browsers. The HTML5 specification does define some of these requirements. Webkit summarizes this nicely in the comment at the beginning of the HTML parser class.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The parser parses tokenized input into the document, building up the document tree. If the document is well-formed, parsing it is straightforward. Unfortunately, we have to handle many HTML documents that are not well-formed, so the parser has to be tolerant about errors. We have to take care of at least the following error conditions:&lt;/p&gt;

  &lt;ol&gt;
    &lt;li&gt;The element being added is explicitly forbidden inside some outer tag. In this case we should close all tags up to the one, which forbids the element, and add it afterwards.&lt;/li&gt;
    &lt;li&gt;We are not allowed to add the element directly. It could be that the person writing the document forgot some tag in between (or that the tag in between is optional). This could be the case with the following tags: HTML HEAD BODY TBODY TR TD LI (did I forget any?).&lt;/li&gt;
    &lt;li&gt;We want to add a block element inside to an inline element. Close all inline elements up to the next higher block element.&lt;/li&gt;
    &lt;li&gt;If this doesn’t help, close elements until we are allowed to add the element or ignore the tag.&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;p&gt;Let’s see some Webkit error tolerance examples:&lt;/p&gt;

&lt;h6 id=&quot;br-instead-of-br&quot;&gt;&amp;lt;/br&amp;gt; Instead of &amp;lt;br&amp;gt;&lt;/h6&gt;

&lt;p&gt;Some sites use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;/br&amp;gt;&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;br&amp;gt;&lt;/code&gt;. In order to be compatible with IE and Firefox Webkit treats this like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;br&amp;gt;&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The code:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isCloseTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;brTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m_document&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inCompatMode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;reportError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MalformedBRError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;beginTag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;How Webkit treats &amp;lt;/br&amp;gt; as &amp;lt;br&amp;gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Note: The error handling is internal - it won’t be presented to the user.&lt;/p&gt;

&lt;h6 id=&quot;a-stray-table&quot;&gt;A Stray Table&lt;/h6&gt;

&lt;p&gt;A stray table is a table inside another tables contents but not inside a table cell.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;table&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;table&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&lt;/span&gt;inner table&lt;span class=&quot;nt&quot;&gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/table&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&lt;/span&gt;outer table&lt;span class=&quot;nt&quot;&gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;HTML resulting in a stray table&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Webkit will change the hierarchy to two sibling tables:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;table&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&lt;/span&gt;outer table&lt;span class=&quot;nt&quot;&gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;table&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;&lt;/span&gt;inner table&lt;span class=&quot;nt&quot;&gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/table&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Webkit creates two sibling tables&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The code:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m_inStrayTableContent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;localName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tableTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;popBlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tableTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Webkits code that creates the siblings&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Webkit uses a stack for the current element contents - it will pop the inner table out of the outer table stack. The tables will now be siblings.&lt;/p&gt;

&lt;h6 id=&quot;nested-form-elements&quot;&gt;Nested Form Elements&lt;/h6&gt;

&lt;p&gt;In case the user puts a form inside another form, the second form is ignored. The code:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m_currentFormElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;m_currentFormElement&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HTMLFormElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;formTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m_document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Forms inside forms are ignored&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h6 id=&quot;a-too-deep-tag-hierarchy&quot;&gt;A Too Deep Tag Hierarchy&lt;/h6&gt;

&lt;p&gt;The quote speaks for itself:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;www.liceo.edu.mx is an example of a site that achieves a level of nesting of about 1500 tags, all from a bunch of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;b&amp;gt;&lt;/code&gt; tags. We will only allow at most 20 nested tags of the same type before just ignoring them all together.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HTMLParser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allowNestedRedundantTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AtomicString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tagName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HTMLStackElem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;curr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m_blockStack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cMaxRedundantTagDepth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;curr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;curr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tagName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tagName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;curr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;curr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cMaxRedundantTagDepth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Only allow tags nested up to 20 deep&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h6 id=&quot;misplaced-html-or-body-end-tags&quot;&gt;Misplaced html or body End Tags&lt;/h6&gt;

&lt;p&gt;Again - the comment speaks for itself. Support for really broken html. We never close the body tag, since some stupid web pages close it before the actual end of the doc. Let’s rely on the end() call to close things:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tagName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;htmlTag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tagName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bodyTag&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;body and HTML tags are only closed on the end call&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;So web authors beware - unless you want to appear as an example in a Webkit error tolerance code - write well formed HTML.&lt;/p&gt;

&lt;h4 id=&quot;css-parsing&quot;&gt;CSS Parsing&lt;/h4&gt;

&lt;p&gt;Remember the parsing concepts in the introduction &lt;sup id=&quot;fnref:stylesystem&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:stylesystem&quot; class=&quot;footnote&quot;&gt;8&lt;/a&gt;&lt;/sup&gt;? Well, unlike HTML, CSS is a context free grammar and can be parsed using the types of parsers described in the introduction. In fact the CSS specification defines CSS lexical and syntax grammar (&lt;a href=&quot;http://www.w3.org/TR/CSS2/grammar.html&quot;&gt;http://www.w3.org/TR/CSS2/grammar.html&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Let’s see some examples:&lt;/p&gt;

&lt;p&gt;The lexical grammar (vocabulary) is defined by regular expressions for each token:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;comment&lt;/span&gt;   &lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*+&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;cm&quot;&gt;/*][^*]*\*+)*\/
num       [0-9]+|[0-9]*&quot;.&quot;[0-9]+
nonascii  [\200-\377]
nmstart   [_a-z]|{nonascii}|{escape}
nmchar    [_a-z0-9-]|{nonascii}|{escape}
name      {nmchar}+
ident     {nmstart}{nmchar}*
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Lexical grammar (vocabulary)&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;“ident” is short for identifier, like a class name. “name” is an element id (that is referred by “#” )&lt;/p&gt;

&lt;p&gt;The syntax grammar is described in BNF:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;ruleset&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;selector&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;selector&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;declaration&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;declaration&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;selector&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;simple_selector&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;combinator&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;selector&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;combinator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;selector&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]?&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;simple_selector&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;element_name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;HASH&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrib&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pseudo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;HASH&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrib&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pseudo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;class&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;IDENT&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;element_name&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;IDENT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;attrib&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;IDENT&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;INCLUDES&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DASHMATCH&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;IDENT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;STRING&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nl&quot;&gt;pseudo&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;IDENT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FUNCTION&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;IDENT&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Syntax grammar&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Explanation: A ruleset is this structure:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.error&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.error&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;red&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;A ruleset&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;div.error and a.error are selectors. The part inside the curly braces contains the rules that are applied by this ruleset. This structure is defined formally in this definition:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;ruleset&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;selector&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;selector&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;declaration&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;declaration&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;The structure definition&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;This means a ruleset is a selector or optionally number of selectors separated by a coma and spaces (S stands for white space). A ruleset contains curly braces and inside them a declaration or optionally a number of declarations separated by a semicolon. “declaration” and “selector” will be defined in the following BNF definitions.&lt;/p&gt;

&lt;h5 id=&quot;webkit-css-parser&quot;&gt;Webkit CSS Parser&lt;/h5&gt;

&lt;p&gt;Webkit uses &lt;a href=&quot;#generating-parsers-automatically&quot;&gt;Flex and Bison&lt;/a&gt; parser generators to create parsers automatically from the CSS grammar files. As you may recall from the parser introduction, Bison creates a bottom up shift reduce parser. Firefox uses a top down parser written manually. In both cases each CSS file is parsed into a StyleSheet object, each object contains CSS rules. The CSS rule objects contain selector and declaration objects and other object corresponding to CSS grammar.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/parsing-css.png&quot; alt=&quot;Parsing CSS&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 12: Parsing CSS&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h4 id=&quot;parsing-scripts&quot;&gt;Parsing Scripts&lt;/h4&gt;

&lt;h4 id=&quot;the-order-of-processing-scripts-and-stylesheets&quot;&gt;The Order of Processing Scripts and Stylesheets&lt;/h4&gt;

&lt;h5 id=&quot;scripts&quot;&gt;Scripts&lt;/h5&gt;

&lt;p&gt;The model of the web is synchronous. Authors expect scripts to be parsed and executed immediately when the parser reaches a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt; tag. The parsing of the document halts until the script is executed. If the script is external then the resource must be first fetched from the network - this is also done synchronously, the parsing halts until the resource is fetched. This was the model for many years and is also specified in HTML 4 &lt;sup id=&quot;fnref:html401&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:html401&quot; class=&quot;footnote&quot;&gt;9&lt;/a&gt;&lt;/sup&gt; and 5 &lt;sup id=&quot;fnref:html5&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:html5&quot; class=&quot;footnote&quot;&gt;10&lt;/a&gt;&lt;/sup&gt; specifications. Authors could mark the script as “defer” and thus it will not halt the document parsing and will execute after it is parsed. HTML5 adds an option to mark the script as asynchronous so it will be parsed and executed by a different thread.&lt;/p&gt;

&lt;h5 id=&quot;speculative-parsing&quot;&gt;Speculative Parsing&lt;/h5&gt;

&lt;p&gt;Both Webkit and Firefox perform this optimization. While executing scripts, another thread parses the rest of the document and finds out which other resources need to be loaded from the network and loads them. This way resources can be loaded on parallel connections and the overall speed is better.&lt;/p&gt;

&lt;p&gt;Note: the speculative parser doesn’t modify the DOM tree and leaves that to the main parser, it only parses references to external resources like external scripts, style sheets and images.&lt;/p&gt;

&lt;h5 id=&quot;stylesheets&quot;&gt;Stylesheets&lt;/h5&gt;

&lt;p&gt;Stylesheets on the other hand have a different model. Conceptually it seems that since style sheets don’t change the DOM tree, there is no reason to wait for them and stop the document parsing. There is an issue, though, of scripts asking for style information during the document parsing stage. If the style is not loaded and parsed yet, the script will get wrong answers and apparently this caused lots of problems &lt;sup id=&quot;fnref:fouc&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:fouc&quot; class=&quot;footnote&quot;&gt;11&lt;/a&gt;&lt;/sup&gt;. It seems to be an edge case but is actually fairly common. Firefox blocks all scripts when there is a stylesheet that is still being loaded and parsed. Webkit blocks scripts only when they try to access certain style properties that may be effected by unloaded stylesheets.&lt;/p&gt;

&lt;h3 id=&quot;render-tree-construction&quot;&gt;Render Tree Construction&lt;/h3&gt;

&lt;p&gt;While the DOM tree is being constructed, the browser constructs another tree, the render tree. This is a tree of visual elements in the order in which they will be displayed. It is the visual representation of the document. The purpose of this tree is to enable painting the contents in their correct order. Firefox calls the elements in the render tree “frames”. Webkit uses the term renderer or render object. A renderer knows how to layout and paint itself and it’s children. Webkit’s RenderObject class, the base class of the renderers has the following definition:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RenderObject&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;layout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PaintInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repaintRect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;//the DOM node&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;RenderStyle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// the computed style&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;RenderLayer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;containgLayer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//the containing z-index layer&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Webkit's RenderObject Class&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Each renderer represents a rectangular area usually corresponding to the node’s CSS box, as described by the CSS2 spec. It contains geometric information like width, height and position.&lt;/p&gt;

&lt;p&gt;The box type is affected by the “display” style attribute that is relevant for the node (see the &lt;a href=&quot;#style-computation&quot;&gt;style computation&lt;/a&gt; section). Here is Webkit code for deciding what type of renderer should be created for a DOM node, according to the display attribute.&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;RenderObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RenderObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;createObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RenderStyle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Document&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;RenderArena&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arena&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;renderArena&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;RenderObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NONE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INLINE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arena&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RenderInline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BLOCK&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arena&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RenderBlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INLINE_BLOCK&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arena&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RenderBlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LIST_ITEM&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arena&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RenderListItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
       &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Webkit's RenderObject::createObject method&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The element type is also considered, for example form controls and tables have special frames. In Webkit if an element wants to create a special renderer it will override the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;createRenderer()&lt;/code&gt; method. The renderers points to style objects that contains the non geometric information.&lt;/p&gt;

&lt;h4 id=&quot;the-render-tree-relation-to-the-dom-tree&quot;&gt;The Render Tree Relation to the DOM Tree&lt;/h4&gt;

&lt;p&gt;The renderers correspond to the DOM elements, but the relation is not one to one. Non visual DOM elements will not be inserted in the render tree. An example is the “head” element. Also elements whose display attribute was assigned to “none” will not appear in the tree (elements with “hidden” visibility attribute will appear in the tree) &lt;sup id=&quot;fnref:layoutengineinternals&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:layoutengineinternals&quot; class=&quot;footnote&quot;&gt;12&lt;/a&gt;&lt;/sup&gt;  &lt;sup id=&quot;fnref:layoutengineinternalsslides&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:layoutengineinternalsslides&quot; class=&quot;footnote&quot;&gt;13&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;There are DOM elements which correspond to several visual objects. These are usually elements with complex structures that cannot be described by a single rectangle. For example, the “select” element has 3 renderers - one for the display area, one for the drop down list box and one for the button. Also when text is broken into multiple lines because the width is not sufficient for one line, the new lines will be added as extra renderers. Another example of several renderers is broken HTML.&lt;/p&gt;

&lt;p&gt;According to CSS spec an inline element must contain either only block elements or only inline elements. In case of mixed content, anonymous block renderers will be created to wrap the inline elements. Some render objects correspond to a DOM node but not in the same place in the tree. Floats and absolutely positioned elements are out of flow, placed in a different place in the tree, and mapped to the real frame. A placeholder frame is where they should have been.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/the-render-tree-and-the-corresponding-dom-tree-31.png&quot; alt=&quot;The render tree and the corresponding DOM tree&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 13: The render tree and the corresponding DOM tree&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h4 id=&quot;the-flow-of-constructing-the-tree&quot;&gt;The Flow of Constructing the Tree&lt;/h4&gt;

&lt;p&gt;In Firefox, the presentation is registered as a listener for DOM updates. The presentation delegates frame creation to the “FrameConstructor” and the constructor resolves style (see &lt;a href=&quot;#style-computation&quot;&gt;style computation&lt;/a&gt;) and creates a frame. In Webkit the process of resolving the style and creating a renderer is called “attachment”. Every DOM node has an “attach” method. Attachment is synchronous, node insertion to the DOM tree calls the new node “attach” method.&lt;/p&gt;

&lt;p&gt;Processing the html and body tags results in the construction of the render tree root. The root render object corresponds to what the CSS spec calls the containing block - the top most block that contains all other blocks. Its dimensions are the viewport - the browser window display area dimensions. Firefox calls it ViewPortFrame and Webkit calls it RenderView. This is the render object that the document point to. The rest of the tree is constructed as a DOM nodes insertion. See CSS2 on this topic - &lt;a href=&quot;http://www.w3.org/TR/CSS21/intro.html#processing-model&quot;&gt;http://www.w3.org/TR/CSS21/intro.html#processing-model&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;style-computation&quot;&gt;Style Computation&lt;/h4&gt;

&lt;p&gt;Building the render tree requires calculating the visual properties of each render object. This is done by calculating the style properties of each element. The style includes stylesheets of various origins, inline style elements and visual properties in the HTML (like the “bgcolor” property). The latter is translated to matching CSS style properties. The origins of style sheets are the browser’s default style sheets, the style sheets provided by the page author and user style sheets - these are style sheets provides by the browser user (browsers let you define your favorite style. In Firefox, for instance, this is done by placing a style sheet in the “Firefox Profile” folder). Style computation brings up a few difficulties:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a id=&quot;issue1&quot;&gt;&lt;/a&gt;Style data is a very large construct, holding the numerous style properties, this can cause memory problems.&lt;/li&gt;
  &lt;li&gt;&lt;a id=&quot;issue2&quot;&gt;&lt;/a&gt;Finding the matching rules for each element can cause performance issues if it’s not optimized. Traversing the entire rule list for each element to find matches is a heavy task. Selectors can have complex structure that can cause the matching process to start on a seemingly promising path that is proven to be futile and another path has to be tried. For example - this compound selector &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;div div div div {... }&lt;/code&gt; means the rules apply to a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;div&amp;gt;&lt;/code&gt; which is the descendant of 3 divs. Suppose you want to check if the rule applies for a given &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;div&amp;gt;&lt;/code&gt; element. You choose a certain path up the tree for checking. You may need to traverse the node tree up just to find out there are only two divs and the rule does not apply. You then need to try other paths in the tree.&lt;/li&gt;
  &lt;li&gt;&lt;a id=&quot;issue3&quot;&gt;&lt;/a&gt;Applying the rules involves quite complex cascade rules that define the hierarchy of the rules.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Let’s see how the browsers face these issues:&lt;/p&gt;

&lt;h5 id=&quot;sharing-style-data&quot;&gt;Sharing Style Data&lt;/h5&gt;

&lt;p&gt;Webkit nodes references style objects (RenderStyle). These objects can be shared by nodes in some conditions. The nodes are siblings or cousins and:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The elements must be in the same mouse state (e.g., one can’t be in :hover while the other isn’t)&lt;/li&gt;
  &lt;li&gt;Neither element should have an id&lt;/li&gt;
  &lt;li&gt;The tag names should match&lt;/li&gt;
  &lt;li&gt;The class attributes should match&lt;/li&gt;
  &lt;li&gt;The set of mapped attributes must be identical&lt;/li&gt;
  &lt;li&gt;The link states must match&lt;/li&gt;
  &lt;li&gt;The focus states must match&lt;/li&gt;
  &lt;li&gt;Neither element should be affected by attribute selectors, where affected is defined as having any selector match that uses an attribute selector in any position within the selector at all&lt;/li&gt;
  &lt;li&gt;There must be no inline style attribute on the elements&lt;/li&gt;
  &lt;li&gt;There must be no sibling selectors in use at all. WebCore &lt;sup id=&quot;fnref:webcoreoverview&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:webcoreoverview&quot; class=&quot;footnote&quot;&gt;14&lt;/a&gt;&lt;/sup&gt; simply throws a global switch when any sibling selector is encountered and disables style sharing for the entire document when they are present. This includes the + selector and selectors like :first-child and :last-child.&lt;/li&gt;
&lt;/ol&gt;

&lt;h5 id=&quot;firefox-rule-tree&quot;&gt;Firefox Rule Tree&lt;/h5&gt;

&lt;p&gt;Firefox has two extra trees for easier style computation - the rule tree and style context tree &lt;sup id=&quot;fnref:stylecontenttree&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:stylecontenttree&quot; class=&quot;footnote&quot;&gt;15&lt;/a&gt;&lt;/sup&gt;. Webkit also has style objects but they are not stored in a tree like the style context tree, only the DOM node points to its relevant style.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/firefox-style-content-tree.png&quot; alt=&quot;Firefox Style Content Tree&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 14: Firefox Style Content Tree&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The style contexts contain end values. The values are computed by applying all the matching rules in the correct order and performing manipulations that transform them from logical to concrete values. For example - if the logical value is percentage of the screen it will be calculated and transformed to absolute units. The rule tree idea is really clever. It enables sharing these values between nodes to avoid computing them again. This also saves space. All the matched rules are stored in a tree. The bottom nodes in a path have higher priority. The tree contains all the paths for rule matches that were found. Storing the rules is done lazily. The tree isn’t calculated at the beginning for every node, but whenever a node style needs to be computed the computed paths are added to the tree. The idea is to see the tree paths as words in a lexicon. Let’s say we already computed this rule tree:&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/computed-rule-tree.png&quot; alt=&quot;Computed Rule Tree&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 15: Computed Rule Tree&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Suppose we need to match rules for another element in the content tree, and find out the matched rules (in the correct order) are B - E - I. We already have this path in the tree because we already computed path A - B - E - I - L. We will now have less work to do. Let’s see how the tree saves as work.&lt;/p&gt;

&lt;h6 id=&quot;division-into-structs&quot;&gt;Division Into Structs&lt;/h6&gt;

&lt;p&gt;The style contexts are divided into structs. Those structs contain style information for a certain categories like border or color. All the properties in a struct are either inherited or non inherited. Inherited properties are properties that unless defined by the element, are inherited from its parent. Non inherited properties (called “reset” properties) use default values if not defined. The tree helps us by caching entire structs (containing the computed end values) in the tree. The idea is that if the bottom node didn’t supply a definition for a struct, a cached struct in an upper node can be used.&lt;/p&gt;

&lt;h6 id=&quot;computing-the-style-contexts-using-the-rule-tree&quot;&gt;Computing the Style Contexts Using the Rule Tree&lt;/h6&gt;

&lt;p&gt;When computing the style context for a certain element, we first compute a path in the rule tree or use an existing one. We then begin to apply the rules in the path to fill the structs in our new style context. We start at the bottom node of the path - the one with the highest precedence (usually the most specific selector) and traverse the tree up until our struct is full. If there is no specification for the struct in that rule node, then we can greatly optimize - we go up the tree until we find a node that specifies it fully and simply point to it - that’s the best optimization - the entire struct is shared. This saves computation of end values and memory.&lt;/p&gt;

&lt;p&gt;If we find partial definitions we go up the tree until the struct is filled.&lt;/p&gt;

&lt;p&gt;If we didn’t find any definitions for our struct, then in case the struct is an “inherited” type - we point to the struct of our parent in the &lt;strong&gt;context tree&lt;/strong&gt;, in this case we also succeeded in sharing structs. If its a reset struct then default values will be used.&lt;/p&gt;

&lt;p&gt;If the most specific node does add values then we need to do some extra calculations for transforming it to actual values. We then cache the result in the tree node so it can be used by children.&lt;/p&gt;

&lt;p&gt;In case an element has a sibling or a brother that points to the same tree node then the &lt;strong&gt;entire style context&lt;/strong&gt; can be shared between them.&lt;/p&gt;

&lt;p&gt;Lets see an example, suppose we have this HTML:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;err&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;div1&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;
        this is a &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;big&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt; big error &lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
        this is also a
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;big&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt; very  big  error&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt; error
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;err&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;div2&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;another error&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Similar CSS classes share the same style context&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;And the following rules:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;black&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;red&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.big&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;span&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;margin-bottom&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;#div1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;blue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;#div2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;green&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;The CSS&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;To simplify things let’s say we need to fill out only two structs - the color struct and the margin struct. The color struct contains only one member - the color. The margin struct contains the four sides. The resulting rule tree will look like this (the nodes are marked with the node name : the # of rule they point at):&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/the-rule-tree.png&quot; alt=&quot;The rule tree&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 16: The Rule Tree&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The context tree will look like this (node name : rule node they point to):&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/the-context-tree.jpg&quot; alt=&quot;The context tree&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 17: The Context Tree&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Suppose we parse the HTML and get to the second &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;div&amp;gt;&lt;/code&gt; tag. We need to create a style context for this node and fill its style structs. We will match the rules and discover that the matching rules for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;div&amp;gt;&lt;/code&gt; are 1 ,2 and 6. This means there is already an existing path in the tree that our element can use and we just need to add another node to it for rule 6 (node F in the rule tree). We will create a style context and put it in the context tree. The new style context will point to node F in the rule tree.&lt;/p&gt;

&lt;p&gt;We now need to fill the style structs. We will begin by filling out the margin struct. Since the last rule node(F) doesn’t add to the margin struct, we can go up the tree until we find a cached struct computed in a previous node insertion and use it. We will find it on node B, which is the uppermost node that specified margin rules. We do have a definition for the color struct, so we can’t use a cached struct. Since color has one attribute we don’t need to go up the tree to fill other attributes. We will compute the end value (convert string to RGB etc) and cache the computed struct on this node.&lt;/p&gt;

&lt;p&gt;The work on the second &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;span&amp;gt;&lt;/code&gt; element is even easier. We will match the rules and come to the conclusion that it points to rule G, like the previous span. Since we have siblings that point to the same node, we can share the entire style context and just point to the context of the previous span.&lt;/p&gt;

&lt;p&gt;For structs that contain rules that are inherited from the parent, caching is done on the context tree (the color property is actually inherited, but Firefox treats it as reset and caches it on the rule tree).&lt;/p&gt;

&lt;p&gt;For instance if we added rules for fonts in a paragraph:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Verdana&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;err&quot;&gt;font&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Rules for fonts in a paragraph&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Then the paragraph element, which is a child of the div in the context tree, could have shared the same font struct as his parent. This is if no font rules where specified for the paragraph.&lt;/p&gt;

&lt;p&gt;In WebKit, who does not have a rule tree, the matched declarations are traversed four times. First non-important high priority properties are applied (properties that should be applied first because others depend on them, such as display), then high priority important, then normal priority non-important, then normal priority important rules. This means that properties that appear multiple times will be resolved according to the correct cascade order. The last wins.&lt;/p&gt;

&lt;p&gt;So to summarize: sharing the style objects (entirely or some of the structs inside them) solves issues &lt;a href=&quot;#issue1&quot;&gt;1&lt;/a&gt; and &lt;a href=&quot;#issue3&quot;&gt;3&lt;/a&gt;. The Firefox rule tree also helps in applying the properties in the correct order.&lt;/p&gt;

&lt;h5 id=&quot;manipulating-the-rules-for-an-easy-match&quot;&gt;Manipulating the Rules for an Easy Match&lt;/h5&gt;

&lt;p&gt;There are several sources for style rules:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;CSS rules, either in external style sheets or in style elements:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;p {color: blue}&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Inline style attributes:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;p style=&quot;color: blue&quot; /&amp;gt;&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;HTML visual attributes (which are mapped to relevant style rules):&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;p bgcolor=&quot;blue&quot; /&amp;gt;&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The last two are easily matched to the element since he owns the style attributes and HTML attributes can be mapped using the element as the key.&lt;/p&gt;

&lt;p&gt;As noted previously in &lt;a href=&quot;#issue2&quot;&gt;issue #2&lt;/a&gt;, the CSS rule matching can be trickier. To solve the difficulty, the rules are manipulated for easier access.&lt;/p&gt;

&lt;p&gt;After parsing the stylesheet, the rules are added one of several hash maps, according to the selector. There are maps by id, by class name, by tag name and a general map for anything that doesn’t fit into those categories. If the selector is an id, the rule will be added to the id map, if it’s a class it will be added to the class map etc. This manipulation makes it much easier to match rules. There is no need to look in every declaration - we can extract the relevant rules for an element from the maps. This optimization eliminates 95+% of the rules, so that they need not even be considered during the matching process &lt;sup id=&quot;fnref:implementingcss&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:implementingcss&quot; class=&quot;footnote&quot;&gt;16&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;Let’s see for example the following style rules:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.error&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;red&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;#messageDiv&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;50px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;These rules will be stored in different maps&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The first rule will be inserted into the class map. The second into the id map and the third into the tag map. For the following HTML fragment:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;p&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;an error occurred&lt;span class=&quot;nt&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;messageDiv&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;this is a message&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;The accompanying markup&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;We will first try to find rules for the p element. The class map will contain an “error” key under which the rule for “p.error” is found. The div element will have relevant rules in the id map (the key is the id) and the tag map. So the only work left is finding out which of the rules that were extracted by the keys really match. For example if the rule for the div was:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;If the rule for the div...&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;It will still be extracted from the tag map, because the key is the rightmost selector, but it would not match our div element, who does not have a table ancestor. Both Webkit and Firefox do this manipulation.&lt;/p&gt;

&lt;h5 id=&quot;applying-the-rules-in-the-correct-cascade-order&quot;&gt;Applying the Rules in the Correct Cascade Order&lt;/h5&gt;

&lt;p&gt;The style object has properties corresponding to every visual attribute (all css attributes but more generic). If the property is not defined by any of the matched rules - then some properties can be inherited by the parent element style object. Other properties have default values. The problem begins when there is more than one definition - here comes the cascade order to solve the issue.&lt;/p&gt;

&lt;h6 id=&quot;stylesheet-cascade-order&quot;&gt;Stylesheet Cascade Order&lt;/h6&gt;

&lt;p&gt;A declaration for a style property can appear in several style sheets, and several times inside a style sheet. This means the order of applying the rules is very important. This is called the “cascade” order. According to CSS2 spec, the cascade order is (from low to high):&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Browser declarations&lt;/li&gt;
  &lt;li&gt;User normal declarations&lt;/li&gt;
  &lt;li&gt;Author normal declarations&lt;/li&gt;
  &lt;li&gt;Author important declarations&lt;/li&gt;
  &lt;li&gt;User important declarations&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The browser declarations are least important and the user overrides the author only if the declaration was marked as important. Declarations with the same order will be sorted by &lt;a href=&quot;#Specificity&quot;&gt;specificity&lt;/a&gt; and then the order they are specified. The HTML visual attributes are translated to matching CSS declarations. They are treated as author rules with low priority.&lt;/p&gt;

&lt;h6 id=&quot;specificity&quot;&gt;Specificity&lt;/h6&gt;

&lt;p&gt;The selector specificity is defined by the &lt;a href=&quot;http://www.w3.org/TR/CSS2/cascade.html#specificity&quot;&gt;CSS2 specification&lt;/a&gt; as follows:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;count 1 if the declaration is from is a ‘style’ attribute rather than a rule with a selector, 0 otherwise (= a)&lt;/li&gt;
  &lt;li&gt;count the number of ID attributes in the selector (= b)&lt;/li&gt;
  &lt;li&gt;count the number of other attributes and pseudo-classes in the selector (= c)&lt;/li&gt;
  &lt;li&gt;count the number of element names and pseudo-elements in the selector (= d)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Concatenating the four numbers a-b-c-d (in a number system with a large base) gives the specificity. The number base you need to use is defined by the highest count you have in one of the categories. For example, if a=14 you can use hexadecimal base. In the unlikely case where a=17 you will need a 17 digits number base. The later situation can happen with a selector like this: html body div div p… (17 tags in your selector.. not very likely). Some examples:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;             &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;  &lt;span class=&quot;cm&quot;&gt;/* a=0 b=0 c=0 d=0 -&amp;gt; specificity = 0,0,0,0 */&lt;/span&gt;
 &lt;span class=&quot;nx&quot;&gt;li&lt;/span&gt;            &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;  &lt;span class=&quot;cm&quot;&gt;/* a=0 b=0 c=0 d=1 -&amp;gt; specificity = 0,0,0,1 */&lt;/span&gt;
 &lt;span class=&quot;nl&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;  &lt;span class=&quot;cm&quot;&gt;/* a=0 b=0 c=0 d=2 -&amp;gt; specificity = 0,0,0,2 */&lt;/span&gt;
 &lt;span class=&quot;nx&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;li&lt;/span&gt;         &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;  &lt;span class=&quot;cm&quot;&gt;/* a=0 b=0 c=0 d=2 -&amp;gt; specificity = 0,0,0,2 */&lt;/span&gt;
 &lt;span class=&quot;nx&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ol&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;li&lt;/span&gt;      &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;  &lt;span class=&quot;cm&quot;&gt;/* a=0 b=0 c=0 d=3 -&amp;gt; specificity = 0,0,0,3 */&lt;/span&gt;
 &lt;span class=&quot;nx&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;up&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]{}&lt;/span&gt;  &lt;span class=&quot;cm&quot;&gt;/* a=0 b=0 c=1 d=1 -&amp;gt; specificity = 0,0,1,1 */&lt;/span&gt;
 &lt;span class=&quot;nx&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ol&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;red&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;  &lt;span class=&quot;cm&quot;&gt;/* a=0 b=0 c=1 d=3 -&amp;gt; specificity = 0,0,1,3 */&lt;/span&gt;
 &lt;span class=&quot;nx&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;red&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;level&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;  &lt;span class=&quot;cm&quot;&gt;/* a=0 b=0 c=2 d=1 -&amp;gt; specificity = 0,0,2,1 */&lt;/span&gt;
 &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x34y&lt;/span&gt;         &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;  &lt;span class=&quot;cm&quot;&gt;/* a=0 b=1 c=0 d=0 -&amp;gt; specificity = 0,1,0,0 */&lt;/span&gt;
 &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&quot;&lt;/span&gt;          &lt;span class=&quot;cm&quot;&gt;/* a=1 b=0 c=0 d=0 -&amp;gt; specificity = 1,0,0,0 */&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Some examples&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h6 id=&quot;sorting-the-rules&quot;&gt;Sorting the rules&lt;/h6&gt;

&lt;p&gt;After the rules are matched, they are sorted according to the cascade rules. Webkit uses bubble sort for small lists and merge sort for big ones. Webkit implements sorting by overriding the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;gt;&lt;/code&gt; operator for the rules:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;operator&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CSSRuleData&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CSSRuleData&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spec1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;specificity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spec2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;specificity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spec1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spec2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spec1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spec2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Webkit overrides the &amp;gt; operator&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h4 id=&quot;gradual-process&quot;&gt;Gradual Process&lt;/h4&gt;

&lt;p&gt;Webkit uses a flag that marks if all top level style sheets (including @imports) have been loaded. If the style is not fully loaded when attaching - place holders are used and it s marked in the document, and they will be recalculated once the style sheets are loaded.&lt;/p&gt;

&lt;h3 id=&quot;layout&quot;&gt;Layout&lt;/h3&gt;

&lt;p&gt;When the renderer is created and added to the tree, it does not have a position and size. Calculating these values is called layout or reflow.&lt;/p&gt;

&lt;p&gt;HTML uses a flow based layout model, meaning that most of the time it is possible to compute the geometry in a single pass. Elements later “in the flow’’ typically do not affect the geometry of elements that are earlier “in the flow’’, so layout can proceed left-to-right, top-to-bottom through the document. There are exceptions - for example, HTML tables may require more than one pass &lt;sup id=&quot;fnref:htmlreflow&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:htmlreflow&quot; class=&quot;footnote&quot;&gt;17&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;The coordinate system is relative to the root frame. Top and left coordinates are used.&lt;/p&gt;

&lt;p&gt;Layout is a recursive process. It begins at the root renderer, which corresponds to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;html&amp;gt;&lt;/code&gt; element of the HTML document. Layout continues recursively through some or all of the frame hierarchy, computing geometric information for each renderer that requires it.&lt;/p&gt;

&lt;p&gt;The position of the root renderer is 0, 0 and its dimensions is the viewport - the visible part of the browser window. All renderers have a “layout” or “reflow” method, each renderer invokes the layout method of its children that need layout.&lt;/p&gt;

&lt;h4 id=&quot;dirty-bit-system&quot;&gt;Dirty Bit System&lt;/h4&gt;

&lt;p&gt;In order not to do a full layout for every small change, browser use a “dirty bit” system. A renderer that is changed or added marks itself and its children as “dirty” - needing layout. There are two flags - “dirty” and “children are dirty”. Children are dirty means that although the renderer itself may be ok, it has at least one child that needs a layout.&lt;/p&gt;

&lt;h4 id=&quot;global-and-incremental-layout&quot;&gt;Global and Incremental Layout&lt;/h4&gt;

&lt;p&gt;Layout can be triggered on the entire render tree - this is “global” layout. This can happen as a result of:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A global style change that affects all renderers, like a font size change.&lt;/li&gt;
  &lt;li&gt;As a result of a screen being resized&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Layout can be incremental, only the dirty renderers will be layed out (this can cause some damage which will require extra layouts). Incremental layout is triggered (asynchronously) when renderers are dirty. For example when new renderers are appended to the render tree after extra content came from the network and was added to the DOM tree.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/incremental-layout.png&quot; alt=&quot;Incremental layout&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 18: Incremental layout–only dirty renderers and their children are laid out&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h4 id=&quot;asynchronous-and-synchronous-layout&quot;&gt;Asynchronous and Synchronous Layout&lt;/h4&gt;

&lt;p&gt;Incremental layout is done asynchronously. Firefox queues “reflow commands” for incremental layouts and a scheduler triggers batch execution of these commands &lt;sup id=&quot;fnref:geckooverview:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:geckooverview&quot; class=&quot;footnote&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;. Webkit also has a timer that executes an incremental layout - the tree is traversed and “dirty” renderers are layout out. Scripts asking for style information, like “offsetHeight” can trigger incremental layout synchronously. Global layout will usually be triggered synchronously. Sometimes layout is triggered as a callback after an initial layout because some attributes, like the scrolling position changed.&lt;/p&gt;

&lt;h4 id=&quot;optimizations&quot;&gt;Optimizations&lt;/h4&gt;

&lt;p&gt;When a layout is triggered by a “resize” or a change in the renderer position(and not size), the renders sizes are taken from a cache and not recalculated. In some cases - only a sub tree is modified and layout does not start from the root. This can happen in cases where the change is local and does not affect its surroundings - like text inserted into text fields (otherwise every keystroke would have triggered a layout starting from the root).&lt;/p&gt;

&lt;h4 id=&quot;the-layout-process&quot;&gt;The Layout Process&lt;/h4&gt;

&lt;p&gt;The layout usually has the following pattern &lt;sup id=&quot;fnref:layoutengine&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:layoutengine&quot; class=&quot;footnote&quot;&gt;18&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Parent renderer determines its own width.&lt;/li&gt;
  &lt;li&gt;Parent goes over children and:
    &lt;ol&gt;
      &lt;li&gt;Place the child renderer (sets its x and y).&lt;/li&gt;
      &lt;li&gt;Calls child layout if needed (they are dirty or we are in a global layout or some other reason) - this calculates the child’s height.&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;Parent uses children accumulative heights and the heights of the margins and paddings to set it own height - this will be used by the parent renderer’s parent.&lt;/li&gt;
  &lt;li&gt;Sets its dirty bit to false.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Firefox uses a “state” object (nsHTMLReflowState) as a parameter to layout (termed “reflow”). Among others the state includes the parents width. The output of Firefox layout is a “metrics” object (nsHTMLReflowMetrics). It will contain the renderer computed height.&lt;/p&gt;

&lt;h4 id=&quot;width-calculation&quot;&gt;Width Calculation&lt;/h4&gt;

&lt;p&gt;The renderer’s width is calculated using the container block’s width , the renderer’s style “width” property, the margins and borders.&lt;/p&gt;

&lt;p&gt;For example the width of the following div:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;div style=&quot;width: 30%&quot;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Would be calculated by Webkit as follows (class RenderBox method calcWidth):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The container width is the maximum of the containers availableWidth and 0. The availableWidth in this case is the contentWidth which is calculated as:&lt;br /&gt;
  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;clientWidth() - paddingLeft() - paddingRight()&lt;/code&gt;
  clientWidth and clientHeight represent the interior of an object excluding border and scrollbar.&lt;/li&gt;
  &lt;li&gt;The elements width is the “width” style attribute. It will be calculated as an absolute value by computing the percentage of the container width.&lt;/li&gt;
  &lt;li&gt;The horizontal borders and paddings are now added.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;So far this was the calculation of the “preferred width.” Now the minimum and maximum widths will be calculated. If the preferred width is higher then the maximum width - the maximum width is used. If it is lower then the minimum width (the smallest unbreakable unit) then the minimum width is used. The values are cached, in case a layout is needed but the width does not change.&lt;/p&gt;

&lt;h4 id=&quot;line-breaking&quot;&gt;Line Breaking&lt;/h4&gt;

&lt;p&gt;When a renderer in the middle of layout decides it needs to break. It stops and propagates to its parent it needs to be broken. The parent will create the extra renderers and calls layout on them.&lt;/p&gt;

&lt;h3 id=&quot;painting&quot;&gt;Painting&lt;/h3&gt;

&lt;p&gt;In the painting stage, the render tree is traversed and the renderers “paint” method is called to display their content on the screen. Painting uses the UI infrastructure component.&lt;/p&gt;

&lt;h4 id=&quot;global-and-incremental&quot;&gt;Global and Incremental&lt;/h4&gt;

&lt;p&gt;Like layout, painting can also be global - the entire tree is painted - or incremental. In incremental painting, some of the renderers change in a way that does not affect the entire tree. The changed renderer invalidates it’s rectangle on the screen. This causes the OS to see it as a “dirty region” and generate a “paint” event. The OS does it cleverly and coalesces several regions into one.&lt;/p&gt;

&lt;p&gt;In Chrome it is more complicated because the renderer is in a different process then the main process. Chrome simulates the OS behavior to some extent. The presentation listens to these events and delegates the message to the render root. The tree is traversed until the relevant renderer is reached. It will repaint itself (and usually its children).&lt;/p&gt;

&lt;h4 id=&quot;the-painting-order&quot;&gt;The Painting Order&lt;/h4&gt;

&lt;p&gt;CSS2 defines the order of the painting process - &lt;a href=&quot;http://www.w3.org/TR/CSS21/zindex.html&quot;&gt;http://www.w3.org/TR/CSS21/zindex.html&lt;/a&gt;. This is actually the order in which the elements are stacked in the &lt;a href=&quot;#stacking_contexts&quot;&gt;stacking contexts&lt;/a&gt;. This order affects painting since the stacks are painted from back to front. The stacking order of a block renderer is:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;background color&lt;/li&gt;
  &lt;li&gt;background image&lt;/li&gt;
  &lt;li&gt;border&lt;/li&gt;
  &lt;li&gt;children&lt;/li&gt;
  &lt;li&gt;outline&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;firefox-display-list&quot;&gt;Firefox Display List&lt;/h4&gt;

&lt;p&gt;Firefox goes over the render tree and builds a display list for the painted rectangle. It contains the renderers relevant for the rectangle, in the right painting order (backgrounds of the renderers, then borders etc). That way the tree needs to be traversed only once for a repaint instead of several times - painting all backgrounds, then all images , then all borders etc. Firefox optimizes the process by not adding elements that will be hidden, like elements completely beneath other opaque elements.&lt;/p&gt;

&lt;h4 id=&quot;webkit-rectangle-storage&quot;&gt;Webkit Rectangle Storage&lt;/h4&gt;

&lt;p&gt;Before repainting, webkit saves the old rectangle as a bitmap. It then paints only the delta between the new and old rectangles.&lt;/p&gt;

&lt;h3 id=&quot;dynamic-changes&quot;&gt;Dynamic Changes&lt;/h3&gt;

&lt;p&gt;The browsers try to do the minimal possible actions in response to a change. So changes to an elements color will cause only repaint of the element. Changes to the element position will cause layout and repaint of the element, its children and possibly siblings. Adding a DOM node will cause layout and repaint of the node. Major changes, like increasing font size of the “html” element, will cause invalidation of caches and repaint of the entire tree.&lt;/p&gt;

&lt;h3 id=&quot;the-rendering-engines-threads&quot;&gt;The Rendering Engine’s Threads&lt;/h3&gt;

&lt;p&gt;The rendering engine is single threaded. Almost everything, except network operations, happens in a single thread. In Firefox and safari this is the main thread of the browser. In Chrome it’s the tab process main thread &lt;sup id=&quot;fnref:webcorerendering&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:webcorerendering&quot; class=&quot;footnote&quot;&gt;19&lt;/a&gt;&lt;/sup&gt;. Network operations can be performed by several parallel threads. The number of parallel connections is limited (usually 2 - 6 connections. Firefox 3, for example, uses 6).&lt;/p&gt;

&lt;h4 id=&quot;event-loop&quot;&gt;Event Loop&lt;/h4&gt;

&lt;p&gt;The browser main thread is an event loop. It’s an infinite loop that keeps the process alive. It waits for events (like layout and paint events) and processes them. This is Firefox code for the main event loop:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mExiting&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;NS_ProcessNextEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Firefox event loop&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h3 id=&quot;css2-visual-model&quot;&gt;CSS2 Visual Model&lt;/h3&gt;

&lt;h4 id=&quot;the-canvas&quot;&gt;The Canvas&lt;/h4&gt;

&lt;p&gt;According to &lt;a href=&quot;http://www.w3.org/TR/CSS21/intro.html#processing-model&quot;&gt;CCS2 specification&lt;/a&gt;, the term canvas describes “the space where the formatting structure is rendered.” - where the browser paints the content. The canvas is infinite for each dimension of the space but browsers choose an initial width based on the dimensions of the viewport. According to &lt;a href=&quot;http://www.w3.org/TR/CSS2/zindex.html&quot;&gt;http://www.w3.org/TR/CSS2/zindex.html&lt;/a&gt;, the canvas is transparent if contained within another, and given a browser defined color if it is not.&lt;/p&gt;

&lt;h4 id=&quot;css-box-model&quot;&gt;CSS Box Model&lt;/h4&gt;

&lt;p&gt;The &lt;a href=&quot;http://www.w3.org/TR/CSS2/box.html&quot;&gt;CSS box model&lt;/a&gt; describes the rectangular boxes that are generated for elements in the document tree and laid out according to the visual formatting model. Each box has a content area (e.g., text, an image, etc.) and optional surrounding padding, border, and margin areas.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/css2-box-model.jpg&quot; alt=&quot;CSS2 box model&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 19: CSS2 Box Model&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Each node generates 0..n such boxes. All elements have a “display” property that determines their type of box that will be generated. Examples:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;nx&quot;&gt;generates&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;block&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;inline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;generates&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;one&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;more&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;inline&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;boxes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;none&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;nx&quot;&gt;no&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;box&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;generated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Display property possible values&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The default is inline but the browser style sheet set other defaults. For example - the default display for “div” element is block. You can find a default style sheet example here &lt;a href=&quot;http://www.w3.org/TR/CSS2/sample.html&quot;&gt;http://www.w3.org/TR/CSS2/sample.html&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;positioning-scheme&quot;&gt;Positioning Scheme&lt;/h4&gt;

&lt;p&gt;There are three schemes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Normal - the object is positioned according to its place in the document - this means its place in the render tree is like its place in the dom tree and layed out according to its box type and dimensions&lt;/li&gt;
  &lt;li&gt;Float - the object is first layed out like normal flow, then moved as far left or right as possible&lt;/li&gt;
  &lt;li&gt;Absolute - the object is put in the render tree differently than its place in the DOM tree&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The positioning scheme is set by the “position” property and the “float” attribute.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;static and relative cause a normal flow&lt;/li&gt;
  &lt;li&gt;absolute and fixed cause an absolute positioning&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In static positioning no position is defined and the default positioning is used. In the other schemes, the author specifies the position - top, bottom, left, right. The way the box is layed out is determined by:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Box type&lt;/li&gt;
  &lt;li&gt;Box dimensions&lt;/li&gt;
  &lt;li&gt;Positioning scheme&lt;/li&gt;
  &lt;li&gt;External information - like images size and the size of the screen&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;box-types&quot;&gt;Box Types&lt;/h4&gt;

&lt;p&gt;Block box: forms a block - have their own rectangle on the browser window.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/block-box.png&quot; alt=&quot;Block box&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 20: Block Box&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Inline box: does not have its own block, but is inside a containing block.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/inline-boxes.png&quot; alt=&quot;Inline boxes&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 21: Inline Boxes&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Blocks are formatted vertically one after the other. Inlines are formatted horizontally.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/block-and-inline-formatting.png&quot; alt=&quot;Block and Inline formatting&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 22: Block and Inline formatting&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Inline boxes are put inside lines or “line boxes.” The lines are at least as tall as the tallest box but can be taller, when the boxes are aligned “baseline” - meaning the bottom part of an element is aligned at a point of another box other then the bottom. In case the container width is not enough, the inlines will be put in several lines. This is usually what happens in a paragraph.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/lines.png&quot; alt=&quot;Lines&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 23: Lines&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h4 id=&quot;positioning&quot;&gt;Positioning&lt;/h4&gt;

&lt;h5 id=&quot;relative&quot;&gt;Relative&lt;/h5&gt;

&lt;p&gt;Relative positioning - positioned like usual and then moved by the required delta.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/relative-positioning.png&quot; alt=&quot;Relative positioning&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 24: Relative positioning&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h5 id=&quot;floats&quot;&gt;Floats&lt;/h5&gt;

&lt;p&gt;A float box is shifted to the left or right of a line. The interesting feature is that the other boxes flow around it The HTML:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;img&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;style=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;float: right&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;images/image.gif&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;width=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;100&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;height=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;100&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  Lorem ipsum dolor sit amet, consectetuer...
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;An image floated to the right&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Will look like:&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/float.png&quot; alt=&quot;Float&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 25: Float&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h5 id=&quot;absolute-and-fixed&quot;&gt;Absolute and Fixed&lt;/h5&gt;

&lt;p&gt;The layout is defined exactly regardless of the normal flow. The element does not participate in the normal flow. The dimensions are relative to the container. In fixed - the container is the view port.&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/fixed-positioning.png&quot; alt=&quot;Fixed positioning&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 26: Fixed positioning&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Note - the fixed box will not move even when the document is scrolled!&lt;/p&gt;

&lt;h4 id=&quot;layered-representation&quot;&gt;Layered Representation&lt;/h4&gt;

&lt;p&gt;It is specified by the z-index CSS property. It represents the 3rd dimension of the box, its position along the “z axis”. The boxes are divided into stacks (called &lt;a id=&quot;stacking_contexts&quot;&gt;stacking contexts&lt;/a&gt;). In each stack the back elements will be painted first and the forward elements on top, closer to the user. In case of overlap it will hide the former element. The stacks are ordered according to the z-index property. Boxes with “z-index” property form a local stack. The viewport has the outer stack. Example:&lt;/p&gt;

&lt;figure&gt;

  &lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&quot;text/css&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;absolute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2in&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2in&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&quot;z-index: 3;background-color:red; width: 1in; height: 1in;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&quot;z-index: 1;background-color:green;width: 2in; height: 2in;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;figcaption&gt;Stacking nodes&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The result will be this:&lt;/p&gt;

&lt;figure&gt;

  &lt;p&gt;&lt;img src=&quot;/assets/images/position-fixed.png&quot; alt=&quot;Fixed positioning&quot; /&gt;&lt;/p&gt;

  &lt;figcaption&gt;Figure 27: Fixed positioning&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Although the green div comes before the red one, and would have been painted before in the regular flow, the z-index property is higher, so it is more forward in the stack held by the root box.&lt;/p&gt;

&lt;h3 id=&quot;resources&quot;&gt;Resources&lt;/h3&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:css21&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://www.w3.org/TR/CSS2/&quot;&gt;Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification.&lt;/a&gt; &lt;a href=&quot;#fnref:css21&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:refarch&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Grosskurth, Alan. &lt;a href=&quot;http://grosskurth.ca/papers/browser-refarch.pdf&quot;&gt;A Reference Architecture for Web Browsers.&lt;/a&gt; &lt;a href=&quot;#fnref:refarch&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:lifehttprequest&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Alexander Larsson, &lt;a href=&quot;https://developer.mozilla.org/en/The_life_of_an_HTML_HTTP_request&quot;&gt;The life of an HTML HTTP request.&lt;/a&gt; &lt;a href=&quot;#fnref:lifehttprequest&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:buildfirefox&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/Build_Documentation&quot;&gt;How to build Firefox.&lt;/a&gt; &lt;a href=&quot;#fnref:buildfirefox&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:buildwebkit&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://webkit.org/building/build.html&quot;&gt;How to build WebKit.&lt;/a&gt; &lt;a href=&quot;#fnref:buildwebkit&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:geckooverview&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Chris Waterson, &lt;a href=&quot;http://www.mozilla.org/newlayout/doc/gecko-overview.htm&quot;&gt;Gecko Overview.&lt;/a&gt; &lt;a href=&quot;#fnref:geckooverview&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt; &lt;a href=&quot;#fnref:geckooverview:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:dragonbook&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Aho, Sethi, Ullman, &lt;a href=&quot;https://www.amazon.com/Compilers-Principles-Techniques-Tools-2nd/dp/0321486811/ref=sr_1_1?s=books&amp;amp;ie=UTF8&amp;amp;qid=1476980885&amp;amp;sr=1-1&quot;&gt;Compilers: Principles, Techniques, and Tools (aka the “Dragon book”), Addison-Wesley, 1986&lt;/a&gt; &lt;a href=&quot;#fnref:dragonbook&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:stylesystem&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;L. David Baron, &lt;a href=&quot;http://www.mozilla.org/newlayout/doc/style-system.html&quot;&gt;Mozilla Style System Documentation.&lt;/a&gt; &lt;a href=&quot;#fnref:stylesystem&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:html401&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://www.w3.org/TR/html4/&quot;&gt;HTML 4.01 Specification.&lt;/a&gt; &lt;a href=&quot;#fnref:html401&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:html5&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://dev.w3.org/html5/spec/Overview.html&quot;&gt;W3C HTML5 Specification.&lt;/a&gt; &lt;a href=&quot;#fnref:html5&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:fouc&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;David Hyatt, &lt;a href=&quot;https://webkit.org/blog/66/the-fouc-problem/&quot;&gt;The FOUC Problem&lt;/a&gt; &lt;a href=&quot;#fnref:fouc&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:layoutengineinternals&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;L. David Baron, &lt;a href=&quot;https://www.youtube.com/watch?v=a2_6bGNZ7bA&quot;&gt;Faster HTML and CSS: Layout Engine Internals for Web Developers (Google tech talk video).&lt;/a&gt; &lt;a href=&quot;#fnref:layoutengineinternals&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:layoutengineinternalsslides&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;L. David Baron, &lt;a href=&quot;http://dbaron.org/talks/2008-11-12-faster-html-and-css/slide-6.xhtml&quot;&gt;Faster HTML and CSS: Layout Engine Internals for Web Developers.&lt;/a&gt; &lt;a href=&quot;#fnref:layoutengineinternalsslides&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:webcoreoverview&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;David Hyatt, &lt;a href=&quot;http://weblogs.mozillazine.org/hyatt/WebCore/chapter2.html&quot;&gt;An Overview of WebCore&lt;/a&gt; &lt;a href=&quot;#fnref:webcoreoverview&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:stylecontenttree&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Rick Jelliffe. &lt;a href=&quot;http://broadcast.oreilly.com/2009/05/the-bold-and-the-beautiful-two.html&quot;&gt;The Bold and the Beautiful: two new drafts ML 5.&lt;/a&gt; &lt;a href=&quot;#fnref:stylecontenttree&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:implementingcss&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;David Hyatt, &lt;a href=&quot;http://weblogs.mozillazine.org/hyatt/archives/cat_safari.html&quot;&gt;Implementing CSS (part 1)&lt;/a&gt; &lt;a href=&quot;#fnref:implementingcss&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:htmlreflow&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Chris Waterson, &lt;a href=&quot;http://www.mozilla.org/newlayout/doc/reflow.html&quot;&gt;Notes on HTML Reflow.&lt;/a&gt; &lt;a href=&quot;#fnref:htmlreflow&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:layoutengine&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;L. David Baron, &lt;a href=&quot;http://www.mozilla.org/newlayout/doc/layout-2006-07-12/slide-6.xhtml&quot;&gt;Mozilla’s Layout Engine.&lt;/a&gt; &lt;a href=&quot;#fnref:layoutengine&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:webcorerendering&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;David Hyatt, &lt;a href=&quot;http://webkit.org/blog/114/&quot;&gt;WebCore Rendering&lt;/a&gt; &lt;a href=&quot;#fnref:webcorerendering&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Sat, 29 Oct 2011 16:53:00 +0100</pubDate>
        <link>http://localhost:4000/how-browsers-work/</link>
        <guid isPermaLink="true">http://localhost:4000/how-browsers-work/</guid>
      </item>
    
      <item>
        <title>New job at Mozilla</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;Okay, I have had the job now for over 3 months but I have really been neglecting my blog… after all, you all deserve to know about what we Mozillians are up to and we are doing some awesome things at the moment.&lt;/p&gt;

&lt;p&gt;I have been contributing to Firebug and Firebug Lite under various guises now since about 2006 and, I may be biased but, in my opinion it is still the best web development tool ever created. I contribute mainly to the highlighter that outlines nodes on a page but all contributers fix code pretty much anywhere in the source. I remember seeing some interesting code early in 1998 concerning a special built in page triggered by typing &lt;a href=&quot;about:mozilla&quot;&gt;about:mozilla&lt;/a&gt; in the address bar… this is around the time that I learned about open source software and decided that I wanted to work for Mozilla.&lt;/p&gt;

&lt;p&gt;A couple of years after that, I started contributing to OSCommerce and around 2006 I started contributing to Joe Hewitt’s &lt;a href=&quot;http://www.getfirebug.com&quot;&gt;Firebug&lt;/a&gt;. I have seen Firebug grow from being a simple logging tool to being the fantastic web development tool that it is today. In the past couple of years &lt;a href=&quot;http://antennasoft.net/robcee/&quot;&gt;Rob Campbell&lt;/a&gt; contacted me a few times and told me that I should apply for a position with Mozilla. At the time I thought that all of the Firefox source code was heavy duty C++ code and that makes my eyes bleed, probably something to do with me not coming equipped with a Unix beard.&lt;/p&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/style-inspector.jpg&quot; alt=&quot;Style Inspector&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Style Inspector&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Rob invited me again in January 2011 and I had a strong gut feeling that I should go for it no matter what, I could not let this fantastic opportunity pass me by after waiting for almost 14 years. I waited 4 months for Mozilla to contact me and turned down numerous permanent positions with other companies. The wait was worth it even though this position was only a 3 month contract. I would be a member of the Firefox team working on a new set of builtin &lt;a href=&quot;http://wiki.mozilla.org/DevTools/Roadmap&quot;&gt;Developer Tools&lt;/a&gt;. The range of tools that we are building really is amazing, you will hear about them in future blog posts.&lt;/p&gt;

&lt;p&gt;The developer tool that I have been assigned to work on is called the &lt;a href=&quot;http://wiki.mozilla.org/DevTools/Features/StyleInspector&quot;&gt;style inspector&lt;/a&gt;. It basically displays a node’s calculated styles along with displaying the CSS selectors that are responsible for that style. It also displays a list of selectors that match or do not match your node. I will blog about the tools under development, including my own so that you can have an idea what is in the pipeline.&lt;/p&gt;

&lt;p&gt;I should point out that the DevTools project does not aim to replace Firebug. Firebug is a fantastic tool that has taken years to develop and will have a bright and shiny future… our DevTools will simply add more functionality.&lt;/p&gt;

&lt;p&gt;We all know that to build the world’s best developer toolset we need feedback from the whole range of web developers and designers. There are thousands of people around the world that are cursing browser vendors because they have not created a tool to do a particular thing. If this is you then post a comment and let us know, we can’t do anything without you asking until we create the mind reading DevTool and that may be a long time in coming ;o)&lt;/p&gt;

&lt;p&gt;Does this news excite you? Have an idea for a new developer tool? Let us know by adding a comment.&lt;/p&gt;
</description>
        <pubDate>Tue, 26 Jul 2011 22:01:00 +0100</pubDate>
        <link>http://localhost:4000/new-job-at-mozilla/</link>
        <guid isPermaLink="true">http://localhost:4000/new-job-at-mozilla/</guid>
      </item>
    
      <item>
        <title>Firefox 4, not just another version number!</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;So, it has been a long time coming, but I am sure that once you have experienced the awesome that the Mozilla developers have produced you will agree…. this is a download worth getting!&lt;/p&gt;

&lt;p&gt;We have come a long way since I started using Mozilla products. Way back in 2005 when I was a younger boy (what… I’m only 18. I downloaded and rediscovered the web. What did I download? Why I downloaded &lt;a href=&quot;http://www.mozilla.com/en-US/firefox/releases/1.5.html&quot;&gt;Firefox 1.5&lt;/a&gt;. What a difference and turn that put in the path that is my life.&lt;/p&gt;

&lt;p&gt;Since then I have seen the release of the wonderful &lt;a href=&quot;http://www.mozilla.com/firefox/2.0/releasenotes/&quot;&gt;Firefox 2.0&lt;/a&gt;, &lt;a href=&quot;http://www.mozilla.com/firefox/3.0/releasenotes/&quot;&gt;Firefox 3.0&lt;/a&gt;, &lt;a href=&quot;http://www.mozilla.com/firefox/3.5/releasenotes/&quot;&gt;Firefox 3.5&lt;/a&gt;, and until recently &lt;a href=&quot;http://www.mozilla.com/firefox/3.6/releasenotes/&quot;&gt;Firefox 3.6&lt;/a&gt;. With each new iteration there have been new features, new websites taking advantage of the packed in technologies, and more importantly a better, safer, and more open web.&lt;/p&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/tP_i5j74rXo?fs=1&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;So why the wait for &lt;a href=&quot;http://www.mozilla.org/firefox/4.0/releasenotes/&quot;&gt;Firefox 4&lt;/a&gt;? Does the web not need the love and care it once got from Mozilla? I think that if you respond to that one with a yes then you are misinformed. The wait has not been through lack of caring, quite the opposite! There are now so many new features and capabilities that have been added since 3.6 that it just took a little longer to package them all up for you.&lt;/p&gt;

&lt;p&gt;There is more it it than just the new features though… since the beginning Mozilla Firefox has helped grow a global community of dedicated volunteers who are all working towards a common goal. That goal is a better web… it is a never ending mission and as such if you should ever meet one of these people, even if you are one yourself, don’t forget to thank them for their time, effort and dedication, because with out them…. well I hate to think what the web would be like.&lt;/p&gt;

&lt;p&gt;Anyhow, that is my boring ramblings… want a full list of features? Visit &lt;a href=&quot;http://www.mozilla.org/firefox&quot;&gt;www.mozilla.org/firefox&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Demos_of_open_web_technologies&quot;&gt;some of the awesome new technology&lt;/a&gt; packed into the desktop release:&lt;/p&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/fdM1SZidPvE?fs=1&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Oh and don’t forget… Firefox is not only for the desktop! Take the web with you with Firefox 4 Mobile!&lt;/p&gt;

&lt;iframe src=&quot;http://www.youtube.com/embed/5LewqstgWaE?fs=1&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

</description>
        <pubDate>Wed, 23 Mar 2011 22:47:00 +0000</pubDate>
        <link>http://localhost:4000/firefox-4-not-just-another-version-number/</link>
        <guid isPermaLink="true">http://localhost:4000/firefox-4-not-just-another-version-number/</guid>
      </item>
    
      <item>
        <title>Firebug Inspector Improvements</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;Almost a year since I last posted, I can’t believe it. I am no longer spending time working on Firebug Lite, but am spending my spare time these days working on Firebug’s inspector.&lt;/p&gt;

&lt;p&gt;There are three versions of the inspector’s highlighter:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The frame highlighter is the blue frame that appears around elements when you click the inspect button and move the mouse cursor around the screen.&lt;/li&gt;
  &lt;li&gt;The box highlighter appears when you mouse over HTML nodes in the HTML panel… this highlighter covers the element with a blue box, the element’s margin with a yellow box etc. this is similar to the inspector used in the layout side panel except that the layout panel version can also display rulers in the elements parent.&lt;/li&gt;
  &lt;li&gt;The image map highlighter appears when you inspect an image that has a related image map.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;There have been a whole host of bugs that we have worked on when it comes to the inspector. These bugs can be neatly divided into 4:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Inspector not playing nicely with framesets… because calculating the position of elements within framesets is much more difficult there are naturally a lot of offset problems.&lt;/li&gt;
  &lt;li&gt;People sometimes do some whacky things with web pages like setting  the html tag to position absolute etc. This can affects the position of  every element on a page, so we needed to make changes to get this  working properly.&lt;/li&gt;
  &lt;li&gt;Disabled elements could not be inspected. Because inspected elements block  all events, not only click events, no mouseover events are triggered, because the inspector needs this event to inspect an element this was  not possible.&lt;/li&gt;
  &lt;li&gt;Because the inspector consists of a set of divs injected into a page the CSS styles from the page were often inherited by the inspector’s divs.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Finding solutions for these problems took time and sanity. The solution to points 1 &amp;amp; 2 were simple enough… simply calculate offsets and apply them to the highlighter. The fix for point 3 was to add proxy elements to the page to enable disabled elements to be inspected, these proxies are transparent divs that are positioned directly over disabled elements. Inspecting these proxy divs simply passed the disabled element to the inspector so that it could be highlighted. The solution to point 4 was to add styles to the highlighters divs with !important to set margins, padding etc. to zero to cancel out any CSS that the inspector would inherit.&lt;/p&gt;

&lt;p&gt;Since fixing these problems there have only been small issues with the inspector, so there has really not been very much for me to do but one thing has become very apparent… these fixes are not good enough! Apart from the fact that we should never be injecting elements into web pages there are many shortcomings to these fixes. The proxy elements are injected into a page when you click inspect, if a disabled element is moved after you begin inspecting then the proxy and highlighter will be in the wrong position. We could change this to monitor the disabled elements and update the proxies as appropriate but that would cause big performance issues on lots of pages. The biggest problem is with fix number 4…&lt;/p&gt;

&lt;p&gt;By choosing CSS styles and setting them to 0 !important we effectively stop the elements from inheriting css styles, but the list of elements that we need to do this with is becoming much larger. One of the first styles that we blocked was “-moz-opacity” but then Firefox chose to support “opacity”. Then CSS transforms came along and whichever new css attributes come along all of the time. This is what Ryan Wolf discusses &lt;a href=&quot;http://web.archive.org/web/20111001031820/http://borderstylo.com/posts/177-adding-nodes-to-the-dom-with-style&quot;&gt;here&lt;/a&gt;… he is currently working on the Glass extension (now defunkt) and has had  a similar set of experiences in making that extension inspector work.&lt;/p&gt;

&lt;p&gt;I have known for a long time that we would ultimately need to stop injecting the highlighters into the target page and move them into the browsers chrome. It made sense to use a transparent panel and draw shapes on the panel as somebody inspects the page. To do this I created a prototype that used a canvas in a transparent panel to render the shapes and this appeared to work well minus a couple of performance problems. I hit another brick wall with canvas… it is not possible to use transforms on canvas. I had a discussion with a Firefox developer recently who said that it would make sense to use SVG instead because the canvas was just used for displaying geometric shapes. I have since discovered that SVG will also allow transforms to be applied to the shapes that are drawn on it, this is the direction that I am planning on taking the inspector. Here is how I would like it to work:&lt;/p&gt;

&lt;p&gt;When a user clicks on inspect the web page is overlayed by a transparent panel that contains SVG content. This overlay will listen for mousemove events and use getElementFromPoint to get the element to be inspected. There will be three methods that the inspector calls and these will highlight the element using the SVG versions of the frame highlighter, the box highlighter or the image map highlighter. Using this transparent overlay has some great advantages that I had not really considered very much. One thing that people often request is the ability to inspect dynamic elements. As an example click inspect, go to a dropdown menu and select a dropdown menu item… when you inspect the item the menu detects the mouse leaving the menu area and the menu collapses. As as a result of the menu collapsing the highlighter highlights where the element was and not where it now is.&lt;/p&gt;

&lt;p&gt;I am planning on making the inspector modular so that custom highlighters can be added. This will allow extensions to do some cool things like displaying lines when inspecting to show offsets etc.&lt;/p&gt;

&lt;p&gt;With the transparent overlay we could optionally cancel events sent to the page and send events using an inspector specific context menu instead. The dynamic menu could now be highlighted by right-clicking the parent element, choosing mouseover then inspecting the child node that is now visible.&lt;/p&gt;

&lt;p&gt;I think that using this technique will make Firebug’s inspector much more powerful… I am also interested in your feedback about the idea would be much appreciated as you may be able to think about things that I have not considered.&lt;/p&gt;
</description>
        <pubDate>Sat, 10 Jul 2010 21:34:00 +0100</pubDate>
        <link>http://localhost:4000/firebug-inspector-improvements/</link>
        <guid isPermaLink="true">http://localhost:4000/firebug-inspector-improvements/</guid>
      </item>
    
      <item>
        <title>Firebug Lite - Changes Q4 2008 - Q1 2009</title>
        <dc:creator>Mike Ratcliffe</dc:creator>
        <description>&lt;p&gt;We have made a bunch of changes to &lt;a href=&quot;http://getfirebug.com/lite.html&quot;&gt;Firebug Lite&lt;/a&gt; over the last few months and it is about time we shared them with you. For those that don’t know what Firebug Lite is, it is basically a cross browser version of Firebug. It does not have the JavaScript debugging capabilities of Firebug but is excellent for viewing the HTML and DOM structure of web pages.&lt;/p&gt;

&lt;p&gt;We have corrected a lot of bugs and added the following enhancements:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Open in Popup - this feature has been requested by lots of people and really improves Firebug Lite:&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/firebug-lite-in-popup.jpg&quot; alt=&quot;Firebug Lite in Popup&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Firebug lite in popup&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Run the latest development version from a bookmarklet - you think a feature is missing or have found a bug? Have a look at the latest dev version and see if it has been fixed. You can run the latest dev version by using this bookmarklet:
&lt;a href=&quot;javascript:var%20firebug=document.createElement('script'\);firebug.setAttribute('src','http://fbug.googlecode.com/svn/lite/branches/firebug1.2/firebug-lite.js'\);document.body.appendChild(firebug\);(function(\){if(window.firebug.version\){firebug.init(\);}else{setTimeout(arguments.callee\);}}\)(\);void(firebug\);&quot;&gt;Firebug Lite - Dev version&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Firebug Lite icon now appears at the bottom right of the page when Lite is hidden - the icon is a visual indicator that Lite is running. You can click the icon to show Lite, look at the tooltip to see hotkeys or &lt;kbd&gt;ctrl | &amp;#8984;&lt;/kbd&gt; + &lt;kbd&gt;click&lt;/kbd&gt; to hide the icon.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/firebug-lite-icon.jpg&quot; alt=&quot;Firebug Lite Icon&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Firebug lite icon&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;No more bleedthrough - there have been numerous issues with Firebug Lite being rendered behind dropdowns, Flash animations, iframes etc. This made it &lt;strong&gt;very&lt;/strong&gt; difficult to use for some sites… we now use an iframe shield to prevent this bleedthrough.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Added a new preference (firebug.env.detectFirebug) to prevent Lite appearing when Firebug is running - this is now the new default behavior.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;It is useful when reporting bugs to be able to let us know which version of Firebug Lite you are running. We have added the console.firebug command which displays the full version number.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Extra Firebug Lite hotkeys - Lite can be used on a variety of platforms in a variety of browsers. Unfortunately this means that keyboard conflicts are inevitable. To work around this issue we have increased the number of hotkeys that can be used in Lite:
    &lt;ul&gt;
      &lt;li&gt;Show Firebug Lite - &lt;kbd&gt;F12&lt;/kbd&gt;, &lt;kbd&gt;ctrl | &amp;#8984;&lt;/kbd&gt; + &lt;kbd&gt;&amp;#8679;&lt;/kbd&gt; + &lt;kbd&gt;L&lt;/kbd&gt; or &lt;kbd&gt;&amp;#8679;&lt;/kbd&gt; + &lt;kbd&gt;&amp;#9166;&lt;/kbd&gt;&lt;/li&gt;
      &lt;li&gt;Open in new Window - &lt;kbd&gt;ctrl | &amp;#8984;&lt;/kbd&gt; + &lt;kbd&gt;F12&lt;/kbd&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Options Dropdown - up until now it has been necessary for Lite users to set Lite options in their code in order to control Lite behavior. This is fine if you have full access to a website but it is not possible if you do not have access. To overcome this problem we have added an options dropdown to Firebug Lite. All the old firebug.env settings can still be set in your code but these now just set the default behavior. These settings can now also be changed from the options dropdown and are stored in cookies for each domain.&lt;/li&gt;
&lt;/ul&gt;

&lt;figure&gt;
  &lt;p&gt;&lt;img src=&quot;/assets/images/firebug-lite-options-dropdown.jpg&quot; alt=&quot;Firebug Lite Options Dropdown&quot; /&gt;&lt;/p&gt;
  &lt;figcaption&gt;Firebug lite options dropdown&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Text content is no longer trimmed - it was often frustrating that the text content in the HTML tree was trimmed to around 50 characters. This setting is now off by default and can be changed using either firebug.env.textNodeChars or the settings dialog.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Hide DOM functions - another recurring issue has been that the DOM tree is slow… especially when using libraries that add a bunch of methods to the DOM. We have added an option to disable the display of DOM functions in the DOM tree. This option can be set using either firebug.env.hideDOMFunctions or the settings dialog.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Handling of the same domain policy in XHR, CSS and Script tabs - in the past we always assumed that the same domain policy was active on every site. We have now changed this handling and will always attempt AJAX request (this is how we get the CSS and script text) letting you know only when there is a problem. This means that more scripts and stylesheets will be available for sites that do not use the same domain policy.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Text nodes can now be reached via the inspect method. Unfortunately there are limitations to the inspect method in Firebug Lite. This is because of the way that browsers work… as an example imagine that you have a text node inside of a span tag, the span tag contains an onclick handler. If the text is clicked then you probably want the span element to receive the onclick event. For this reason browsers have a tendency to send the onclick event of a text node to the containing element. Because of this issue highlighting or clicking text nodes usually results in highlighting their parent elements. Nevertheless, if a text node is not contained it can now be selected.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Lite can now be used locally over HTTPS - unfortunately Lite throws a bunch of insecure content errors when used for HTTPS pages. The only workaround is to copy the files to the domain that you wish to debug and to set firebug.env.css to point to the copy of the css file stored on that domain. Otherwise you just need to click through the warnings when they pop up.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;We have added these enhancements to Firebug Lite but would like to add more. If you have any ideas of which enhancements we should add or if you find any errors in Lite then please &lt;a href=&quot;http://code.google.com/p/fbug/issues/list&quot;&gt;log an enhancement request or issue&lt;/a&gt;… just don’t forget to mention Firebug Lite in the subject line.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 05 May 2009 20:54:00 +0100</pubDate>
        <link>http://localhost:4000/firebug-lite-changes-q4-2008-q1-2009/</link>
        <guid isPermaLink="true">http://localhost:4000/firebug-lite-changes-q4-2008-q1-2009/</guid>
      </item>
    
  </channel>
</rss>
